//tealium universal tag - utag.loader ut4.0.201805251700, Copyright 2018 Tealium.com Inc. All Rights Reserved.
var utag_condload=false;try{(function(){function ul(src,a,b){a=document;b=a.createElement('script');b.language='javascript';b.type='text/javascript';b.src=src;a.getElementsByTagName('head')[0].appendChild(b)};if((""+document.cookie).match("utag_env_bofa_olb=(\/\/tags\.tiqcdn\.com\/utag\/bofa\/[^\S;]*)")){if(RegExp.$1.indexOf("/prod/")===-1){var s=RegExp.$1;while(s.indexOf("%")!=-1){s=decodeURIComponent(s);}s=s.replace(/\.\./g,"");ul(s);utag_condload=true;__tealium_default_path='//tags.tiqcdn.com/utag/bofa/olb/prod/';}}})();}catch(e){};try{(function(name,context,definition){if(!context||!Array.prototype.filter){return;}
context[name]=definition();})('bactm',typeof window!=='undefined'?window:null,function(){var win=window,doc=document||{},version='2.19.1',plugins={},publishedEvents={},queuedEvents={},env=win.bactm_envSelector||'notprod',utagLoadStopped=false,isDOMReady=false,readyHandlers=[],loadCoremetrics=typeof digitalData!=='undefined'&&(typeof digitalData.load_coremetrics==='undefined'||digitalData.load_coremetrics===null||digitalData.load_coremetrics.toString().toLowerCase()!=='false'),pageviewOnLoad=typeof digitalData!=='undefined'&&(typeof digitalData.disable_pageviewonload==='undefined'||digitalData.disable_pageviewonload===null||digitalData.disable_pageviewonload.toString().toLowerCase()!=='true'),isProd=env==='prod'?true:false,cmLibLoadEventName='bactm_libload',attrValueSeperator='-_-',segmentWrapperChar='|',segmentValueSeperator=segmentWrapperChar+segmentWrapperChar,storageKeyPrefix='bactm.',logQ=[],_logPageviewToSplunk={'homepage:Content:Personal;homepage_personal':true,'homepage:Content:Personal;homepage_personal_signoff':true},conversionActionTypes={'initiate':1,'complete':2},SITE_PROMOTIONS_INTERVAL=300,SITE_PROMOTIONS_THRESHOLD=3000,SITE_PROMOTIONS_ACCUMULATOR=0,LOG_LEVEL={OFF:10,FATAL:5,ERROR:4,WARN:3,INFO:2,DEBUG:1},LOG_LEVEL_STRINGS={5:'trace',4:'error',3:'warn',2:'info',1:'log'},_settings={logLevel:isProd?LOG_LEVEL.OFF:LOG_LEVEL.DEBUG,coremetricsUtagId:1};var _init=function(){_log('bactm library v'+version+' initializing.',LOG_LEVEL.INFO);win.dataCollector=win.dataCollector||[];if(pageviewOnLoad)pageview();if(loadCoremetrics){doc.addEventListener(cmLibLoadEventName,_onCoremetricsLibraryReady);}else{_ready(_onLoad);}
var eventName='onpagehide'in window?'pagehide':'beforeunload';window.addEventListener(eventName,_sendLogBeacon,false);_processSitePromotions();}
var _processSitePromotions=function(){var querySitePromotions=setInterval(function(){if(SITE_PROMOTIONS_ACCUMULATOR>SITE_PROMOTIONS_THRESHOLD){_trigger('sitePromotionsProcessed');return clearInterval(querySitePromotions);}
var links=polyfills.array.from(document.querySelectorAll('a'));var sitePromotionLinks=links.filter(function(link){return polyfills.string.includes(link.href,'cm_sp=');});sitePromotionLinks.forEach(function(spLink){var qs=new QueryString(spLink.href);var sitePromotion={event:'sitepromotion',options:{value:qs.get('cm_sp'),href:spLink.href}};if(!_isInDataCollector(sitePromotion))dataCollector.push(sitePromotion)});SITE_PROMOTIONS_ACCUMULATOR+=SITE_PROMOTIONS_INTERVAL;},SITE_PROMOTIONS_INTERVAL);}
_isInDataCollector=function(needle){if(typeof needle!=='object')return false;var dc=window.dataCollector||[];for(var i=0;i<dc.length;i++){var dcEvent=dc[i];if(_is(dcEvent,needle))return true;}
return false;};_is=function(o1,o2){if(typeof o1!=='object'||typeof o2!=='object')return false
var o1k=Object.keys(o1);return o1k.every(function(key){if(!o2.hasOwnProperty(key))return false;if(typeof o1[key]==='object')return _is(o1[key],o2[key])
return o1[key]===o2[key]});};var _onCoremetricsLibraryReady=function(){_log('Coremetrics libraries loaded event fired.',LOG_LEVEL.INFO);doc.removeEventListener(cmLibLoadEventName,_onCoremetricsLibraryReady);_setCoremetricsEnvironment();_ready(_onLoad);}
var _onLoad=function(){win.dataCollector=win.dataCollector||[];var dataCollectorQueue=new _dataCollectorHelper(win.dataCollector,_processDataCollector,true);if(typeof win.bactm_fireImpressions==='boolean'&&win.bactm_fireImpressions===true)
_impressions();}
var _firePageview=function(pageInfoKey,options){var options=options||{},pageInfoArrayIndex=_lookupArrayIndexByKey(pageInfoKey,options);_processOptions(pageInfoArrayIndex,options);_log('Call pageview on array index '+pageInfoArrayIndex+' with options: ',options,LOG_LEVEL.DEBUG);if(_toLowerCaseString(ddo.get('page.attributes.stateCookie'))==='true')_setStateSegmentValue(pageInfoArrayIndex);if(_toLowerCaseString(ddo.get('page.attributes.needOLBcookie'))==='true')_setOLBSegmentValue(pageInfoArrayIndex);_setWindowResolutionSegmentValue(pageInfoArrayIndex);_setSNRSegmentValue(pageInfoArrayIndex);var pageInfo=_getPageInfo(pageInfoArrayIndex,options);if(!pageInfo){_log('Unable to fire pageview. pageInfo object is null or does not exist.',LOG_LEVEL.INFO);return;}
_log('Firing a pageview with the following info: ',pageInfo,LOG_LEVEL.INFO);_trigger('beforePageview',{'pageInfoArrayIndex':pageInfoArrayIndex,'pageInfo':pageInfo,'options':options});if(typeof bactm_cmCreatePageviewTag==='function'){try{bactm_cmCreatePageviewTag(pageInfo.pageID,null,pageInfo.searchString,pageInfo.category,false,false,null,false,false,null,pageInfo.applicationID,pageInfo.segmentValue,pageInfo.searchResults,pageInfo.olbSessionID,pageInfo.appName,pageInfo.appStepNumber,pageInfo.appStepName,pageInfo.attr,pageInfo.subCampaignCode,pageInfo.referringURL,pageInfo.destinationURL);}catch(e){_log(e,LOG_LEVEL.ERROR);}
_pageIDHistory('add',pageInfoArrayIndex,pageInfo.pageID);_impressions();}
_trigger('afterPageview',{'pageInfoArrayIndex':pageInfoArrayIndex,'pageInfo':pageInfo,'options':options});_trigger('initClickAttributes',{'pageInfoArrayIndex':pageInfoArrayIndex,'pageInfo':pageInfo,'options':options});_trigger('initTargetValues',{'pageInfoArrayIndex':pageInfoArrayIndex,'pageInfo':pageInfo,'options':options});_trigger('initChatPageView',{'pageInfoArrayIndex':pageInfoArrayIndex,'pageInfo':pageInfo,'options':options});}
var _fireCartView=function(){if(typeof bactm_cmCreateShopAction5Tag!=='function')return;_trigger('beforeCartView');var products=ddo.get('cart.item',[]);for(var i=0,len=products.length;i<len;i++){if(!products[i].attributes||!products[i].attributes.cartViewTagFired){try{bactm_cmCreateShopAction5Tag(products[i].productInfo.productID,products[i].productInfo.productName,products[i].category.primaryCategory,null,null,null,null,1);products[i].attributes=products[i].attributes||{};products[i].attributes.cartViewTagFired=true;}
catch(e){_log(e,LOG_LEVEL.ERROR);}}}
ddo.set('cart.item',products);_saveCartToStore();_trigger('afterCartView');}
var _fireProductsPurchased=function(){if(typeof bactm_cmCreateShopAction9Tag!=='function')return;_trigger('beforeProductsPurchased');var products=ddo.get('cart.item',[]);for(var i=0,len=products.length;i<len;i++){if(products[i].attributes&&_toLowerCaseString(products[i].attributes.cartViewTagFired)!=='false'){try{bactm_cmCreateShopAction9Tag(products[i].productInfo.productID,products[i].productInfo.productName,_readCookie("BOA_0020"),ddo.get('cart.applicationID'),products[i].category.primaryCategory,null,null,null,null,true,ddo.get('cart.applicationDecision'),null,1);products[i].attributes=products[i].attributes||{};products[i].attributes.cartViewTagFired=false;}
catch(e){_log(e,LOG_LEVEL.ERROR);}}}
ddo.set('cart.item',products);_saveCartToStore();_trigger('afterProductsPurchased');}
var _fireProductview=function(){if(typeof bactm_cmCreateProductviewTag!=='function')return;_trigger('beforeProductview');var products=ddo.get('product',[]);for(var i=0,len=products.length;i<len;i++){if(!products[i].attributes||!products[i].attributes.productviewTagFired){try{bactm_cmCreateProductviewTag(products[i].productInfo.productID,products[i].productInfo.productName,products[i].category.primaryCategory,null,false,false,null,false,null,null,false,null);products[i].attributes=products[i].attributes||{};products[i].attributes.productviewTagFired=true;}
catch(e){_log(e,LOG_LEVEL.ERROR);}}}
ddo.set('product',products);_trigger('afterProductview');}
var _fireConversionEvent=function(eventName,actionType,category){var conversion={eventName:eventName,actionType:actionType,category:category};_trigger('beforeConversion',{'conversion':conversion});try{bactm_cmCreateConversionEventTag(eventName,conversionActionTypes[actionType],category);}catch(e){_log(e,LOG_LEVEL.ERROR);}
_trigger('afterConversion',{'conversion':conversion});}
var _fireCustomError=function(errorCode,errorMessage){var eventInfo={'event':'customError','errorCode':errorCode,'errorMessage':errorMessage};_trigger('beforeCustomError',eventInfo);try{var pageID=cG7.cM0[cm_ClientID];var categoryID=pageID.split(';')[0];bactm_cmCreateCustomError(pageID,null,null,null,errorCode,categoryID,errorMessage);}
catch(e){_log(e,LOG_LEVEL.ERROR);}
_trigger('afterCustomError',eventInfo);}
var _fireManualLinkClick=function(href,linkname){var eventInfo={'event':'manualLinkClick','href':href,'linkname':linkname};_trigger('beforeManualLinkClick',eventInfo);if(!href||href===''||href==='#'){href='javascript:void(0);';}
try{var pageID=cG7.cM0[cm_ClientID];bactm_cmCreateManualLinkClickTag(href,linkname,pageID);}catch(e){_log(e,LOG_LEVEL.ERROR);}
_trigger('afterManualLinkClick',eventInfo);}
var _revertToPreviousPageID=function(pageInfoArrayIndex){var pageID='';if(!isNaN(pageInfoArrayIndex)){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;pageID=ddo.pageInfo.get('pageID',pageInfoArrayIndex);}else{pageID=_pageIDHistory('prev');}
try{cG7.cM0[cm_ClientID]=pageID;}catch(e){_log(e,LOG_LEVEL.ERROR);}}
var _rescanDOM=function(){try{cX('onload');}catch(e){_log(e,LOG_LEVEL.ERROR);}}
var _addToLogQ=function(data){var q=logQ||[];q.push(data);}
var _impressions=function(){win.bactm_cYQ=win.bactm_cYQ||[];win.bactm_cYQ.push(Date.now());var _cy=function(){win.bactm_cYQ=[];win.cY();}
if((typeof win.bactm_cXExecuting==='undefined'||win.bactm_cXExecuting===false)&&typeof win.cY==='function'){_cy();return;}
var _repeat=function(){setTimeout(_check,100);}
var _check=function(){if(win.bactm_cYQ.length===0)return;if(win.bactm_cXExecuting===true){_repeat();return;}
_cy();}
if(win.bactm_cYQ.length===1)_repeat();}
var _processDataCollector=function(message){_log('dataCollector processing: ',message,LOG_LEVEL.DEBUG);var _event=_toLowerCaseString(message.event);var events={'pageview':function(){_firePageview(message.pageInfoKey||0,message.options||{});var pageId=ddo.pageInfo.get('pageID',message.pageInfoKey,'');if(_logPageviewToSplunk[pageId])log({type:'pageview',pageId:pageId});},'productview':function(){_fireProductview();},'cartview':function(){_fireCartView();},'productspurchased':function(){_fireProductsPurchased();},'conversion':function(){_fireConversionEvent(message.eventName,message.actionType,message.category);},'manuallinkclick':function(){_fireManualLinkClick(message.href,message.linkname);},'customerror':function(){_fireCustomError(message.errorCode,message.errorMessage);},'customevent':function(){var details=message.options||{};details['eventKey']=message.eventKey;_trigger('customEvent',details);},'log':function(){var data=message.data||{};_addToLogQ(data);}}
if(events[_event]){events[_event]();}}
var _lookupArrayIndexByKey=function(pageInfoKey,options){var options=options||{},pageInfoKeyIsString=typeof pageInfoKey==='string',pageInfoArrayIndex=0;if(pageInfoKey){if(pageInfoKeyIsString&&_toLowerCaseString(options.lookupType)==='associatedvalue'){pageInfoArrayIndex=_findPageInfoArrayIndexByAssociatedValue(pageInfoKey);if(pageInfoArrayIndex===-1){_log('Unable to find pageInfo matching the specified associated value. Defaulting to zero.',LOG_LEVEL.WARN);pageInfoArrayIndex=0;}}else if(pageInfoKeyIsString){pageInfoArrayIndex=_findPageInfoArrayIndexByPageID(pageInfoKey);if(pageInfoArrayIndex===-1){_log('Unable to find pageInfo matching the specified pageID. Defaulting to zero.',LOG_LEVEL.WARN);pageInfoArrayIndex=0;}}else{if(_isValidPageInfoArrayIndex(pageInfoKey))pageInfoArrayIndex=pageInfoKey;}}
return pageInfoArrayIndex;}
var _processOptions=function(pageInfoArrayIndex,options){if(typeof options.loadCart!=='undefined'&&_toLowerCaseString(options.loadCart)==='true'){_loadCartFromStore();delete options.loadCart;}
if(typeof options.clickDART!=='undefined'){_setProperty('clickDART',options.clickDART,pageInfoArrayIndex);delete options.clickDART;}
if(typeof options.authenticated!=='undefined'){_setProperty('authenticated',options.authenticated);delete options.authenticated;}
if(typeof options.applicationId!=='undefined'){_setProperty('applicationId',options.applicationId);delete options.applicationId;}
if(typeof options.applicationDecision!=='undefined'){_setProperty('applicationDecision',options.applicationDecision);delete options.applicationDecision;}
if(typeof options.saveAndReturnId!=='undefined'){_setProperty('saveAndReturnId',options.saveAndReturnId,pageInfoArrayIndex);delete options.saveAndReturnId;}
if(typeof options.standardDART!=='undefined'){_setProperty('standardDART',options.standardDART,pageInfoArrayIndex);delete options.standardDART;}
if(typeof options.standardDARTes!=='undefined'){_setProperty('standardDARTes',options.standardDARTes,pageInfoArrayIndex);delete options.standardDARTes;}
if(typeof options.mboxCreateParam!=='undefined'){_setProperty('mboxCreateParam',options.mboxCreateParam,pageInfoArrayIndex);delete options.mboxCreateParam;}
if(typeof options.mboxCreateParam_es!=='undefined'){_setProperty('mboxCreateParam_es',options.mboxCreateParam_es,pageInfoArrayIndex);delete options.mboxCreateParam_es;}
if(typeof options.mboxCreateArgs!=='undefined'){_setProperty('mboxCreateArgs',options.mboxCreateArgs,pageInfoArrayIndex);delete options.mboxCreateArgs;}
if(typeof options.chat!=='undefined'){_setProperty('chat',options.chat,pageInfoArrayIndex);delete options.chat;}
if(typeof options.segmentValues!=='undefined'){addManySegmentValues(options.segmentValues,pageInfoArrayIndex);delete options.segmentValues;}
if(typeof options.cartProducts!=='undefined'){addProductsToCart(options.cartProducts);delete options.cartProducts;}
options['isApp']=_toLowerCaseString(options.isApp)==='true'?true:false;options['isSaveAndReturn']=_toLowerCaseString(options.isSaveAndReturn)==='true'?true:false;}
var _getPageInfo=function(pageInfoArrayIndex,options){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;options=options||{};var pageInfo=_clone(ddo.get('page.pageInfo['+pageInfoArrayIndex+']'));if(!pageInfo.pageID&&win.cG7&&win.cG7.cM0&&win.cm_ClientID)pageInfo['pageID']=cG7.cM0[cm_ClientID];if(!pageInfo.pageID)pageInfo['pageID']='';var category=ddo.get('page.category.primaryCategory');if(typeof(options.addlCategoryIndex)!=='undefined'||_toLowerCaseString(options.categoryType)==='additional'){var additionalCat=ddo.get('page.category.addlCategory');if(Array.isArray(additionalCat)){if(_isValidAddlCategoryArrayIndex(options.addlCategoryIndex)){category=additionalCat[options.addlCategoryIndex];}else{category=additionalCat[0];}}else{category=additionalCat;}}
var isApp=((pageInfo.appName&&pageInfo.appStepNumber)||options.isApp===true)?true:false;if(isApp)pageInfo=_getAppPageInfo(pageInfo,category,options.isSaveAndReturn);var _pageInfo=pageInfo||{};_pageInfo['pageID']=_localizePageID(pageInfo.pageID,pageInfo.language);_pageInfo['applicationID']=ddo.get('cart.applicationID');_pageInfo['category']=category;_pageInfo['attr']=_getAttrValue(pageInfo);_pageInfo['searchString']=ddo.get('page.attributes.searchString');_pageInfo['searchResults']=ddo.get('page.attributes.searchResults');_pageInfo['olbSessionID']=ddo.get('page.attributes.olbSessionID');_pageInfo['subCampaignCode']=ddo.get('page.attributes.subCampaignCode');_pageInfo['authenticated']=(_toLowerCaseString(ddo.get('user.authenticated'))==='true')?true:false;_pageInfo['pageInfoArrayIndex']=pageInfoArrayIndex;return _pageInfo;}
var _getAppPageInfo=function(pageInfo,category,isSaveAndReturn){var cat=category||ddo.get('page.category.primaryCategory','');pageInfo=pageInfo||{};pageInfo['originalAppName']=pageInfo.appName||'None';pageInfo['appName']=pageInfo.appName+'_'+
(_toLowerCaseString(ddo.get('user.authenticated'))==='true'?'OLB':'NonOLB')+
(isSaveAndReturn?'_SNR':'');pageInfo['pageID']=cat+
';'+pageInfo.appName+
':'+pageInfo.appStepNumber+
':'+pageInfo.appStepName;return pageInfo;}
var _getSegmentValues=function(pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;var segmentValue=ddo.pageInfo.get('segmentValue',pageInfoArrayIndex);if(!segmentValue)return{};var segmentPairs=_trim(segmentValue).split(segmentValueSeperator);var segments={};for(var i=0,segmentPairsLen=segmentPairs.length;i<segmentPairsLen;i++){var segment=_getSegmentKeyValue(segmentPairs[i]);segments[segment.key]=segment.value;}
return segments;}
var _saveSegmentValues=function(value,pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;ddo.pageInfo.set('segmentValue',value,pageInfoArrayIndex);}
var _getSegmentValue=function(key,pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;var current=_getSegmentKeyValues(pageInfoArrayIndex);return current[key];}
var _setSegmentValue=function(key,value,pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;var segmentValuesString='';var current=_getSegmentValues(pageInfoArrayIndex);current[_trim(key)]=value?_trim(value):'';for(var key in current){if(current.hasOwnProperty(key)){segmentValuesString+=segmentWrapperChar+key+
(current[key]!==''?'_'+current[key]:'')+
segmentWrapperChar;}}
_saveSegmentValues(segmentValuesString,pageInfoArrayIndex);}
var _getSegmentKeyValue=function(segment){var firstUnderscore=segment.indexOf('_');if(firstUnderscore>-1){key=segment.substring(0,firstUnderscore);value=segment.substring(firstUnderscore+1);}else{key=segment;value='';}
return{key:key,value:value};}
var _setStateSegmentValue=function(pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;var stateFromCookie;if(_toLowerCaseString(ddo.get('page.attributes.stateCookie'))==='true')stateFromCookie=_readCookie('state');if(stateFromCookie)_setSegmentValue('st',stateFromCookie,pageInfoArrayIndex);}
var _setOLBSegmentValue=function(pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;var authenticated='N';if(_readCookie('BA_0021'))authenticated='Y';_setSegmentValue('olbc',authenticated,pageInfoArrayIndex);}
var _setWindowResolutionSegmentValue=function(pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;var value=win.innerWidth+'_'+win.innerHeight;_setSegmentValue('rez',value,pageInfoArrayIndex);}
var _setSNRSegmentValue=function(pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;try{var SNR=ddo.pageInfo.get('saveAndReturnId',pageInfoArrayIndex);if(SNR)_setSegmentValue('SNR',SNR,pageInfoArrayIndex);}catch(e){}}
var _getAttrValue=function(pageInfo){var attributes=pageInfo.attr.split(attrValueSeperator);if(attributes.length>0){attributes[0]+=pageInfo.segmentValue;}
attributes[9]='1';return attributes.join(attrValueSeperator);}
var _setProperty=function(property,value,pageInfoArrayIndex){var setAuth=function(){if(_toLowerCaseString(value)==='true'||_toLowerCaseString(value)==='false'){ddo.set('user.authenticated',(_toLowerCaseString(value)==='true')?true:false);}}
var setAppID=function(){ddo.set('cart.applicationID',value);}
var setAppDecision=function(){ddo.set('cart.applicationDecision',value);}
var setPageInfoProperty=function(){if(_isValidPageInfoArrayIndex(pageInfoArrayIndex)){ddo.pageInfo.set(property,value,pageInfoArrayIndex);}}
var commands={'authenticated':setAuth,'applicationId':setAppID,'applicationDecision':setAppDecision,'standardDART':setPageInfoProperty,'standardDARTes':setPageInfoProperty,'mboxCreateParam':setPageInfoProperty,'mboxCreateParam_es':setPageInfoProperty,'mboxCreateArgs':setPageInfoProperty,'chat':setPageInfoProperty,'saveAndReturnId':setPageInfoProperty,'clickDART':setPageInfoProperty}
if(commands[property]){commands[property]();}}
var _localizePageID=function(pageID,language){ctryCd=/([A-Za-z]){2}[\:\;_-]/
language=(ctryCd.exec(language))?language.substr(0,ctryCd.exec(language).length):language
if(!language||language.toLowerCase().indexOf('en')>-1||pageID.slice(-3).toUpperCase()==='_'+language.toUpperCase())return pageID;else return pageID+'_'+language.toUpperCase();}
var _addProducts=function(products){if(!Array.isArray(products)&&typeof products!=='object')
throw new TypeError('addProducts requires a product object or an array of product objects.');products=_asArray(products);var ddoProducts=ddo.get('product',[]);for(var i=0,productsLen=products.length;i<productsLen;i++){if(_findArrayIndexByProperty(ddoProducts,'productInfo.productID',products[i].productID,true)===-1){ddoProducts.push({'productInfo':{'productID':products[i].productID,'productName':products[i].productName},'category':{'primaryCategory':products[i].productCategory}});}}}
var _addProductsToCart=function(products){if(!Array.isArray(products)&&typeof products!=='object')
throw new TypeError('addProductsToCart requires a product object or an array of product objects.');products=_asArray(products);var ddoProducts=ddo.get('cart.item',[]);for(var i=0,productsLen=products.length;i<productsLen;i++){if(_findArrayIndexByProperty(ddoProducts,'productInfo.productID',products[i].productID,true)===-1){ddoProducts.push({'productInfo':{'productID':products[i].productID,'productName':products[i].productName},'category':{'primaryCategory':products[i].productCategory},'attributes':{'cartViewTagFired':false}});}}
_saveCartToStore();cartView();}
var _saveCartToStore=function(){var cart=ddo.get('cart',{});var store=new Store('cart');var key=_getCartStoreKey();store.set(key,cart);store.save();}
var _loadCartFromStore=function(){var store=new Store('cart');var key=_getCartStoreKey();var cart=store.get(key);if(!_isEmpty(cart))ddo.set('cart',cart);}
var _getCartStoreKey=function(){return ddo.pageInfo.get('appName',0,'noKey');}
var _toLowerCaseString=function(value){return(value+'').toLowerCase();}
var _clone=function(source){return JSON.parse(JSON.stringify(source));}
var _readCookie=function(name){var cookies=new Cookies();return cookies.get(name);}
var _pageIDHistory=function(command,pageInfoArrayIndex,pageID){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;if(!pageID)pageID=ddo.pageInfo.get('pageID',pageInfoArrayIndex);var history=ddo.get('page.attributes.pageIDHistory',[]);var lastIndex=history.length-1;var add=function(){if(history.length===0||history[lastIndex].pageID.toLowerCase()!==pageID.toLowerCase()){history.push({'pageInfoArrayIndex':pageInfoArrayIndex,'pageID':pageID,'timestamp':new Date().getTime()});}};var prev=function(){if(history.length>1){history.pop();}
return history[lastIndex-1].pageID;}
var current=function(){return history[lastIndex].pageID;}
var commands={'add':add,'prev':prev,'current':current}
if(commands[command]){return commands[command]();}}
var _pushToDataCollector=function(message){win.dataCollector=win.dataCollector||[];_trigger('beforePushToDataCollector',message);win.dataCollector.push(message);_trigger('afterPushToDataCollector',message);}
var _ready=function(handler){if(isDOMReady&&typeof handler==='function'){handler();}else{readyHandlers.push(handler);}}
var _processReadyHandlers=function(){readyHandlers.forEach(function(handler){if(typeof handler==='function')handler();});readyHandlers=[];}
var _onDomReady=function(){if(!isDOMReady){isDOMReady=true;_processReadyHandlers();}}
var _domLoadComplete=function(){doc.removeEventListener("DOMContentLoaded",_domLoadComplete);_onDomReady();}
var _stopUtagLoad=function(){_log('utagLoadStopped: '+utagLoadStopped,LOG_LEVEL.DEBUG);if(!utagLoadStopped){_log('Stopping further utag loading.',LOG_LEVEL.INFO);utagLoadStopped=true;win.utag_cfg_ovrd={noview:true};}}
var _loadUtags=function(utagIds){if(utagIds){utagIds=_asArray(utagIds);utag.view(utag_data,utagIds);_log('Loading utags:',utagIds,LOG_LEVEL.INFO);}else{utagLoadStopped=false;utag.view(utag_data);_log('Loading all utags.',LOG_LEVEL.INFO);}}
var _loadCoremetricsLibraries=function(){_log('load coremetrics utag: '+_settings.coremetricsUtagId,LOG_LEVEL.INFO);_loadUtags(_settings.coremetricsUtagId);}
var _setCoremetricsEnvironment=function(){if(isProd&&typeof win.cmSetProduction==='function')win.cmSetProduction();else if(typeof win.cmSetStaging==='function')win.cmSetStaging();}
var _isValidPageInfoArrayIndex=function(pageInfoArrayIndex){if(typeof pageInfoArrayIndex==='undefined'||pageInfoArrayIndex===null||isNaN(pageInfoArrayIndex)){_log('pageInfoArrayIndex provided is not a number. Defaulting to zero.',LOG_LEVEL.WARN);return false;}
var pageInfo=ddo.get('page.pageInfo',[]);if(pageInfoArrayIndex<0||pageInfoArrayIndex>pageInfo.length-1){_log('pageInfoArrayIndex provided is outside the bounds of the pageInfo array. Defaulting to zero.');return false;}
return true;}
var _isValidAddlCategoryArrayIndex=function(addlCategoryArrayIndex){if(typeof addlCategoryArrayIndex==='undefined'||addlCategoryArrayIndex===null||isNaN(addlCategoryArrayIndex)){_log('addlCategoryArrayIndex provided is not a number. Defaulting to zero.',LOG_LEVEL.WARN);return false;}
var addlCategory=ddo.get('page.category.addlCategory',[]);if(addlCategoryArrayIndex<0||addlCategoryArrayIndex>addlCategory.length-1){_log('addlCategoryArrayIndex provided is outside the bounds of the addlCategory array. Defaulting to zero.');return false;}
return true;}
var _findPageInfoArrayIndexByPageID=function(pageID){return _findArrayIndexByProperty(ddo.get('page.pageInfo',[]),'pageID',pageID,true);}
var _findArrayIndexByProperty=function(array,property,value,looseMatch){var properties=property.split('.');var topPropertyName=properties[0];var lowerPropertyName;for(var i=0,len=array.length;i<len;i+=1){var prop=array[i][topPropertyName];for(var j=1,propLen=properties.length;j<propLen;j++){prop=prop[properties[j]];if(!prop)break;}
if(!looseMatch&&prop===value)return i;else if(looseMatch&&typeof value==='string'&&_trim(_toLowerCaseString(prop))===_trim(_toLowerCaseString(value)))return i;else if(looseMatch&&prop==value)return i;}
return-1;}
var _findPageInfoArrayIndexByAssociatedValue=function(value){if(!value)return-1;if(!utag_data.Dynamic_PageView_Element)return-1;var recordDelimiter=',';var value='-_-'+value.toLowerCase()+recordDelimiter;var utagLookupData=utag_data.Dynamic_PageView_Element.toLowerCase();if(utagLookupData.slice(-1)!==recordDelimiter)utagLookupData+=recordDelimiter;var pageID;var associatedValuePosition=utagLookupData.indexOf(value);if(associatedValuePosition>-1){var startPosition=utagLookupData.lastIndexOf(recordDelimiter,associatedValuePosition)+1;pageID=utag_data.Dynamic_PageView_Element.substring(startPosition,associatedValuePosition);}
if(!pageID)return-1;return _findPageInfoArrayIndexByPageID(pageID);}
var _asArray=function(value){if(Array.isArray(value))return value;return[value];}
var _trim=function(s){if(!s)return;if(s.length>=1&&s[0]===segmentWrapperChar)s=s.slice(1);if(s.length>=1&&s[s.length-1]===segmentWrapperChar)s=s.slice(0,-1);return s.trim();}
function _isEmpty(obj){if(obj==null)return true;if(obj.length>0)return false;if(obj.length===0)return true;if(typeof obj!=="object")return true;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))return false;}
return true;}
var _setDefault=function(_property,_default){return(typeof _property==='undefined'||_property===null)?_default:_property;}
var _tld=function(d){d=d||win.location.hostname;var parts=d.split('.').reverse();if(parts.length===1)return parts[0];if(parts.length>2&&parts[1].length<=3){return parts.splice(0,3).reverse().join('.');}
return parts.splice(0,2).reverse().join('.');}
var _deprecationWarning=function(functionName,msg){_log('Deprecation warning: '+functionName+' is deprecated. '+msg,LOG_LEVEL.WARN);}
var _log=function(msg,obj1,severity){if(!severity&&typeof obj1==='number'){severity=obj1;obj1=null;}else if(!severity){severity=1;}
if(_settings.logLevel<=severity&&typeof console!=="undefined"){var logType=LOG_LEVEL_STRINGS[severity];if(typeof logType!="string")logType="log";if(console[logType]){if(obj1){console[logType](msg,obj1);}else{console[logType](msg);}}else if(console.log){if(typeof obj1==='object')msg+='\n'+JSON.stringify(obj1,null,2);console.log(logType.toUpperCase()+": "+msg);}}}
var _timestamp=function(){var e=new Date;return e.getTime()-e.getTimezoneOffset()}
var _listener=function(eventKey,listener){var isListenerQueued=queuedEvents.hasOwnProperty(eventKey);if(isListenerQueued){queuedEvents[eventKey]=queuedEvents[eventKey]||[];queuedEvents[eventKey].forEach(function(info){listener(typeof info!=='undefined'?info:{});});delete queuedEvents[eventKey];}
publishedEvents[eventKey]=publishedEvents[eventKey]||[];var index=publishedEvents[eventKey].push(listener)-1;return{remove:function(){delete publishedEvents[eventKey][index];}}}
var _trigger=function(eventKey,info){var isListenerRegistered=publishedEvents.hasOwnProperty(eventKey);var isListenerQueued=queuedEvents.hasOwnProperty(eventKey);if(!isListenerRegistered){if(isListenerQueued)return;queuedEvents[eventKey]=queuedEvents[eventKey]||[];info=info||{};return queuedEvents[eventKey].push(info);}
if(isListenerQueued)delete queuedEvents[eventKey];publishedEvents[eventKey].forEach(function(listener){listener(typeof info!=='undefined'?info:{});});}
var _dataCollectorHelper=function(dataCollector,listener,listenToPast){this._dataCollector=dataCollector;this._listener=listener||function(){};this._executingListener=false;this._unprocessed=[];var oldPush=dataCollector.push;var that=this;dataCollector.push=function(){var messages=[].slice.call(arguments,0);var result=oldPush.apply(dataCollector,messages);that._processMessages(messages);return result;}
this._processMessages(dataCollector,!listenToPast);}
_dataCollectorHelper.prototype._processMessages=function(messages,skipListener){this._unprocessed.push.apply(this._unprocessed,messages);while(this._executingListener===false&&this._unprocessed.length>0){var update=this._unprocessed.shift();if(!skipListener){this._executingListener=true;this._listener(update);this._executingListener=false;}}}
var ddo={};ddo.get=function(key,defaultValue){if(typeof key!=='string')throw new TypeError('Key must be a dot seperated string.');defaultValue=typeof defaultValue==='undefined'?null:defaultValue;var tree=key.split('.');var base=window.digitalData||{};for(var i=0,len=tree.length;i<len;i++){var propKey=tree[i];var arrInd=propKey.indexOf('[');if(arrInd>-1){var arrPropKey=propKey.substring(0,arrInd);if(!Array.isArray(base[arrPropKey])||base[arrPropKey].length===0)
return defaultValue;var index=propKey.substring(arrInd+1,propKey.length-1);if(isNaN(index))return defaultValue;if(index<0||index>base[arrPropKey].length)return defaultValue;if(i===len-1)return base[arrPropKey][index];base=base[arrPropKey][index];continue;}
var baseHasProperty=base.hasOwnProperty(propKey);if(baseHasProperty&&i<len-1){base=base[propKey];continue;}
return baseHasProperty?base[propKey]:defaultValue;}}
ddo.set=function(key,value){if(typeof key!=='string')throw new TypeError('Key must be a dot seperated string.');if(typeof value==='undefined')throw new TypeError('A value must be provided.');var tree=key.split('.');var base=window.digitalData||{};for(var i=0,len=tree.length;i<len;i++){var propKey=tree[i];var arrInd=propKey.indexOf('[');if(arrInd>-1){var arrPropKey=propKey.substring(0,arrInd);if(!Array.isArray(base[arrPropKey])&&typeof base[arrPropKey]!=='undefined')
throw new TypeError('You referenced an array index but the property '+
arrPropKey+' is not an array.');var index=parseInt(propKey.substring(arrInd+1,propKey.length-1));if(isNaN(index))throw new TypeError('The array index must be a number.');base[arrPropKey]=base[arrPropKey]||[];var baseLen=base[arrPropKey].length;if(index!==0&&(index<0||index>baseLen))
throw new RangeError('Trying to save to an index outside the range of the array.');if(i===len-1){if(index===baseLen){base[arrPropKey].push(value);return value;}
base[arrPropKey][index]=value;return value;};if(index===baseLen)base[arrPropKey].push({});if(typeof base[arrPropKey][index]!=='object')
throw new TypeError('Cannot write to a non-object property.');base=base[arrPropKey][index];continue;}
if(i===len-1){if(typeof base!=='object')
throw new TypeError('Cannot write to a non-object property.');base[propKey]=value;return value;}
base[propKey]=base[propKey]||{};base=base[propKey];}}
ddo.pageInfo={};ddo.pageInfo.get=function(key,index,defaultValue){return ddo.get('page.pageInfo['+(index||0)+']'+(key?('.'+key):''),defaultValue);}
ddo.pageInfo.set=function(key,value,index){if(typeof value==='undefined'){value=key;key=null;}
return ddo.set('page.pageInfo['+(index||0)+']'+(key?('.'+key):''),value);}
var SudoPromise=function(cb){var self=this,_state=0,_result=null,_deferred=null;self._onResolved=null;self._onRejected=null;var resolve=function(result){if(_state!==0)return;_state=1;_result=result;if(_deferred)self.handle(_deferred);}
var reject=function(reason){if(_state!==0)return;_state=2;_result=reason;if(_deferred)self.handle(_deferred);}
self.handle=function(handler){if(_state===0){_deferred=handler;return;}
if(_state===1){handler.onResolve(_result);_deferred=null;}else if(_state===2&&handler.onRejection){handler.onRejection(_result);_deferred=null;}}
cb(resolve,reject);};SudoPromise.prototype.then=function(onResolve,onRejection){var self=this;if(onResolve)self._onResolved=onResolve;if(onRejection)self._onRejected=onRejection;self.handle({onResolve:self._onResolved,onRejection:self._onRejected});return self;}
SudoPromise.prototype.catch=function(onRejection){this.then(null,onRejection);}
var Ajax=function(){if(!(this instanceof Ajax))return new Ajax();}
Ajax.prototype.xhr=function(opt){return new _ajaxHelpers.Promise(function(resolve,reject){try{var url,params=opt.data||null;if(typeof opt==='string')url=opt;if(!opt)opt={};var method=opt.method||'GET';url=url||opt.url||'';var async=(typeof opt.sync!=='undefined')?!opt.sync:true;if(!url)throw'A URL is required.';var xhr=new XMLHttpRequest();xhr.open(method,url,async,opt.user,opt.password);if(opt.contentType==='json')xhr.setRequestHeader("Content-Type","application/json");if(opt.data&&((!opt.contentType&&typeof opt.data!=='string')||opt.contentType==='json'))params=JSON.stringify(opt.data);if(opt.withCredentials)xhr.withCredentials=true;if(opt.headers){for(key in opt.headers){xhr.setRequestHeader(key,opt.headers[key]);}}
xhr.onerror=function(){reject('Uncaught AJAX error raised. Check the URL.');}
xhr.onload=function(){if(xhr.status===200)resolve(xhr.responseText);else reject('Request failed. Returned status of '+xhr.status);}
xhr.send(params);}catch(e){reject(e);}});}
Ajax.prototype.jsonp=function(url,jsonp,cb){var body=doc.body||doc.getElementsByTagName('body')[0];win[jsonp]=function(data){delete win[jsonp];body.removeChild(script);cb(data);};var script=doc.createElement('script');script.src=url+(url.indexOf('?')>=0?'&':'?')+'callback='+jsonp;body.appendChild(script);}
Ajax.prototype.post=function(url,data,opt){var postOpts={method:'POST',url:url,data:data};polyfills.object.assign(postOpts,opt);return this.xhr(postOpts);}
Ajax.prototype.get=function(url,opt){var getOpts={method:'GET',url:url};polyfills.object.assign(getOpts,opt);return this.xhr(getOpts);}
var _ajaxHelpers={};if(typeof Promise==='function')_ajaxHelpers.Promise=Promise;else _ajaxHelpers.Promise=SudoPromise;var Store=function(key,config){if(!(this instanceof Store))return new Store(key,config);this._config=(config&&typeof config!=='boolean')?config:{};this._key=key;this._store={};if(!config||typeof config==='boolean'){this._config.type=config?'localStorage':'sessionStorage';}
if(key)return this.load(key,config);}
Store.prototype.load=function(key,config){if(typeof key!=='string')return this;this._key=key;config=config||{};if(config.type)this._config.type=_setDefault(config.type,'sessionStorage');var cmdKey=_storeHelpers.cmds[this._config.type];this._helpers=_storeHelpers[cmdKey](this._config);this._store=this._helpers.load(key);return this;}
Store.prototype.all=function(){return this._store;}
Store.prototype.get=function(key){if(typeof key!=='string'||!this._store[key])return null;return this._store[key];}
Store.prototype.set=function(key,value){if(typeof key!=='string'||typeof value==='undefined')return;this._store[key]=value;}
Store.prototype.remove=function(key){if(typeof key!=='string')return;delete this._store[key];}
Store.prototype.save=function(key){var _saveKey=key||this._key;if(typeof _saveKey!=='string'){_log('Invalid storage key provided. Unable to save to '+this._config.type+'.',LOG_LEVEL.WARN);return;};try{this._helpers.save(_saveKey,this._store);if(key)this._key=key;}catch(e){_log('Unable to save to '+this._config.type+'.',LOG_LEVEL.WARN);}}
Store.prototype.clear=function(){this._store={};this.save();}
Store.prototype.delete=function(){try{this._helpers.save(this._key,null);this._store={};}catch(e){_log('Unable to remove '+this._config.type+' item.',LOG_LEVEL.WARN);}}
var _storeHelpers={};_storeHelpers.cmds={'sessionStorage':'storage','localStorage':'storage','sessionCookie':'cookie','cookie':'cookie'}
_storeHelpers.cookie=function(config){var _cookieName='bactm',_cookieConfig={domain:_tld()};config=config||{};if(config.type&&typeof config.type==='string'&&config.type.indexOf('session')===-1){_cookieName='bactm_lts';_cookieConfig['expires']=365;}
var _cookies=new Cookies(),_bactmCookie=_cookies.getJSON(_cookieName)||{};var _load=function(key){return _bactmCookie[key]||{};}
var _save=function(key,value){_cookies._refresh();if(value===null)delete _bactmCookie[key];else _bactmCookie[key]=value;_cookies.set(_cookieName,_bactmCookie,_cookieConfig);}
return{load:_load,save:_save}}
_storeHelpers.storage=function(config){var _storage=window[config.type];var _load=function(key){var _data;try{_data=JSON.parse(_storage.getItem(storageKeyPrefix+key));}catch(e){console.log('Unable to read from '+config.type+'.');}
return _data||{};}
var _save=function(key,value){var _storageKey=storageKeyPrefix+key;if(value===null)_storage.removeItem(_storageKey);else _storage.setItem(_storageKey,JSON.stringify(value));}
return{load:_load,save:_save}}
var Cookies=function(){if(!(this instanceof Cookies))return new Cookies();var self=this;self._refresh=function(){self._cookies=doc.cookie?doc.cookie.split('; '):[];self._cookieCache={};}
self._refresh();}
Cookies.prototype.set=function(key,value,options){if(!key)return;var options=options||{};options['path']=options.path||'/';if(typeof options.expires==='number'){var expires=new Date();expires.setMilliseconds(expires.getMilliseconds()+options.expires*864e+5);options.expires=expires;}else if(typeof options.expires==='string'){try{var expires=new Date(Date.parse(options.expires));options.expires=expires;}catch(e){delete options.expires;}}
options.expires=options.expires?options.expires.toUTCString():'';var rawKey=key;key=encodeURIComponent(String(key));try{result=JSON.stringify(value);if(/^[\{\[]/.test(result)){value=encodeURIComponent(result);}}catch(e){}
var stringifiedAttributes='';for(var attributeName in options){if(!options[attributeName]){continue;}
stringifiedAttributes+='; '+attributeName;if(options[attributeName]===true){continue;}
stringifiedAttributes+='='+options[attributeName];}
this._cookieCache[rawKey]=value;return(doc.cookie=key+'='+value+stringifiedAttributes);}
Cookies.prototype.get=function(key,options){var result,options=options||{},rdecode=/(%[0-9A-Z]{2})+/g;if(!key||options.bustCache)this._refresh();if(this._cookieCache[key])return this._cookieCache[key];if(!key)result={};for(var i=0;i<this._cookies.length;i++){var parts=this._cookies[i].split('='),cookie=parts.slice(1).join('=');if(cookie.charAt(0)==='"'){cookie=cookie.slice(1,-1);}
try{var name=parts[0].replace(rdecode,decodeURIComponent);cookie=cookie.replace(rdecode,decodeURIComponent);if(options.json){try{cookie=JSON.parse(decodeURIComponent(cookie));}catch(e){}}
if(key===name){result=cookie;this._cookieCache[name]=cookie;break;}
if(!key){result[name]=cookie;this._cookieCache[name]=cookie;}}catch(e){}}
return result;}
Cookies.prototype.getJSON=function(key){return this.get(key,{bustCache:true,json:true});}
Cookies.prototype.remove=function(key){if(this._cookieCache[key])delete this._cookieCache[key];this.set(key,'',{expires:-1});}
var QueryString=function(uri){if(!(this instanceof QueryString))return new QueryString(uri);if(!uri&&uri!=='')uri=window.location.href;var startIndex=uri.indexOf('?'),endIndex=uri.indexOf('#'),start=startIndex>-1?startIndex+1:0,end=endIndex>-1?endIndex:uri.length,parts=uri.substring(start,end).split('&'),package={};if(startIndex>-1){for(var i=0,len=parts.length;i<len;i++){var thisOne=parts[i].split('='),name=thisOne[0],value=thisOne.length>1?thisOne[1]:'';package[name]=value;}}
this._cache=package;}
QueryString.prototype.get=function(key){return this._cache[key];}
QueryString.prototype.set=function(key,value){if(!key)return;this._cache[key]=value;}
QueryString.prototype.load=function(keyVal){if(typeof keyVal!=='object')return;for(key in keyVal){if(keyVal.hasOwnProperty(key))this.set(key,keyVal[key]);}}
QueryString.prototype.toString=function(){var builder=[];for(key in this._cache){if(this._cache.hasOwnProperty(key)){builder.push(key+'='+encodeURIComponent(this._cache[key]));}}
return builder.join('&');}
var PixelTag=function(url,id){if(!url)return;if(!(this instanceof PixelTag))return new PixelTag(url);var img=doc.createElement('img');img.src=url;img.style='display:none;';img.width=0;img.style.width=0;img.height=0;img.style.height=0;img.alt="Marketing Pixel";img.setAttribute('aria-hidden',true);if(typeof id==='string')img.id=id;this._img=img;}
PixelTag.prototype.appendTo=function(parent){if(!parent.appendChild)return;parent.appendChild(this._img);}
PixelTag.prototype.appendToBody=function(){var body=doc.body||doc.getElementsByTagName('body')[0];this.appendTo(body);}
var polyfills={object:{},array:{},string:{}};polyfills.object.assign=Object.assign;if(typeof polyfills.object.assign!='function'){polyfills.object.assign=function(target,varArgs){'use strict';if(target==null){throw new TypeError('Cannot convert undefined or null to object');}
var to=Object(target);for(var index=1;index<arguments.length;index++){var nextSource=arguments[index];if(nextSource!=null){for(var nextKey in nextSource){if(Object.prototype.hasOwnProperty.call(nextSource,nextKey)){to[nextKey]=nextSource[nextKey];}}}}
return to;};}
polyfills.array.find=function(ourArray,predicate){if(ourArray.find)return ourArray.find(predicate);if(ourArray==null){throw new TypeError('array.find called on null or undefined');}
if(typeof predicate!=='function'){throw new TypeError('predicate must be a function');}
var list=Object(ourArray);var length=list.length>>>0;var thisArg=arguments[1];var value;for(var i=0;i<length;i++){value=list[i];if(predicate.call(thisArg,value,i,list)){return value;}}
return undefined;}
polyfills.array.map=function(arr,fun){if(arr.map)return arr.map(fun);if(arr===void 0||arr===null){throw new TypeError();}
var t=Object(arr);var len=t.length>>>0;if(typeof fun!=='function'){throw new TypeError();}
var res=new Array(len);var thisp=arguments[1];for(var i=0;i<len;i++){if(i in t){res[i]=fun.call(thisp,t[i],i,t);}}
return res;}
polyfills.array.from=function(arrayLike){if(Array.from)return Array.from(arrayLike);var toStr=Object.prototype.toString;var maxSafeInteger=Math.pow(2,53)-1;var items=Object(arrayLike);var C=this;var T;var isCallable=function(fn){return typeof fn==='function'||toStr.call(fn)==='[object Function]';};var toInteger=function(value){var number=Number(value);if(isNaN(number))return 0;if(number===0||!isFinite(number))return number;return(number>0?1:-1)*Math.floor(Math.abs(number));};var toLength=function(value){var len=toInteger(value);return Math.min(Math.max(len,0),maxSafeInteger);};if(arrayLike==null){throw new TypeError('Array.from requires an array-like object - not null or undefined');}
var mapFn=arguments.length>1?arguments[1]:void undefined;if(typeof mapFn!=='undefined'){if(!isCallable(mapFn)){throw new TypeError('Array.from: when provided, the second argument must be a function');}
if(arguments.length>2){T=arguments[2];}}
var len=toLength(items.length);var A=isCallable(C)?Object(new C(len)):new Array(len);var k=0;var kValue;while(k<len){kValue=items[k];if(mapFn){A[k]=typeof T==='undefined'?mapFn(kValue,k):mapFn.call(T,kValue,k);}else{A[k]=kValue;}
k+=1;}
A.length=len;return A;}
polyfills.string.includes=function(haystack,search,start){if(typeof start!=='number')start=0;if(haystack.includes)return haystack.includes(search,start);return(start+search.length>haystack.length)?false:haystack.indexOf(search,start)!==-1;}
var _raiseCustomEvent=function(eventKey,details){_pushToDataCollector({event:'customEvent',eventKey:eventKey,options:details});}
var _getBaseUrl=function(){if(doc.baseURI)return doc.baseURI;var pathArray=location.href.split('/'),protocol=pathArray[0],host=pathArray[2],url=protocol+'//'+host+'/';return url;}
var _getBeaconUrl=function(){var base=_getBaseUrl(),splunkLogTransportUrl=env==='prod'||base.indexOf('localhost')>-1?'https://www.bankofamerica.com/content/images/ContextualSiteGraphics/bactm/bactm-transport.gif':base+'content/images/ContextualSiteGraphics/bactm/bactm-transport.gif',baseUrl=splunkLogTransportUrl+'?d=',q=[];for(var i=0,len=logQ.length;i<len;i++){var d=[];if(!Array.isArray(logQ[i]||typeof logQ[i]==='object')){for(var key in logQ[i]){d.push(encodeURIComponent(key)+'~'+encodeURIComponent(logQ[i][key]));}}
if(d.length>0)q.push(d.join('~~'));}
if(q.length>0)return baseUrl+q.join('-_-');else return baseUrl;}
var _sendLogBeacon=function(){if(logQ.length>0){var _url=_getBeaconUrl();if(navigator&&typeof navigator.sendBeacon==='function'){navigator.sendBeacon(_url);}else{var client=new XMLHttpRequest();client.open("POST",_url,false);client.setRequestHeader("Content-Type","text/plain;charset=UTF-8");client.send();}}}
var _beginDataCollection=function(pageInfoArrayIndex){_deprecationWarning('bactm_beginDataCollection','Consider using bactm.pageview() instead.');if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;pageview(pageInfoArrayIndex);}
var _capturePageview=function(pageInfoArrayIndex){_deprecationWarning('bactm_capturePageview','Consider using bactm.pageview() instead.');if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;pageview(pageInfoArrayIndex);}
var _bactmProductView=function(){_deprecationWarning('bactm_productView','Consider using bactm.productview() instead.');productview();}
var _captureAdditionalPageview=function(pageInfoArrayIndex,useSecondaryCategory,segments){_deprecationWarning('bactm_captureAddlPageview','Consider using bactm.pageview() instead.');if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;var options={};options['categoryType']=!useSecondaryCategory?'primary':'additional';if(segments)options['segments']=segments;pageview(pageInfoArrayIndex,options);}
var _captureDynamicPageview=function(associatedValue){_deprecationWarning('bactm_captureDynamicPageview','Consider using bactm.pageview(associatedValue, { lookupType: \'associatedValue\' }) instead.');pageview(associatedValue,{lookupType:'associatedValue'});}
var _loadDataCollection=function(){_deprecationWarning('bactm_loadDataCollection','Data collection libraries are now loaded asynchronously via tag manager.');}
var _cmCreateManualLinkClickTag=function(href,id,pageID){_deprecationWarning('cmCreateManualLinkClickTag','Consider using bactm.manualLinkClick() instead.');manualLinkClick(href,id);}
var _cmCreateCustomError=function(pageID,appName,appStepNumber,appStepName,errorCode,categoryID,errorMessage){_deprecationWarning('cmCreateCustomError','Consider using bactm.customError() instead.');if(typeof bactm_cmCreateCustomError==='function'){try{bactm_cmCreateCustomError(pageID,appName,appStepNumber,appStepName,errorCode,categoryID,errorMessage);}catch(e){_log(e,LOG_LEVEL.ERROR);}}}
var _cmCreateImpressionTag=function(_pi,_SP,_RE){_deprecationWarning('cmCreateImpressionTag');if(typeof bactm_cmCreateImpressionTag==='function'){try{bactm_cmCreateImpressionTag(_pi,_SP,_RE);}catch(e){_log(e,LOG_LEVEL.ERROR);}}}
var _bactmAddProducts=function(productID,productName,productCategory){_deprecationWarning('bactm_addProducts','Consider using bactm.addProducts() instead.');var product={'productID':productID,'productName':productName,'productCategory':productCategory};addProducts([product]);}
var _bactmAddSegmentationValues=function(segmentValues,pageInfoArrayIndex){_deprecationWarning('bactm_addSegmentationValues','Consider using bactm.addManySegmentValues() or pageview() instead.');addManySegmentValues(segmentValues,pageInfoArrayIndex);if((typeof utag_data!=='undefined'&&_toLowerCaseString(utag_data.cm_Segmentation_Value)==="true")||_toLowerCaseString(ddo.get('disable_pageviewonload'))==='true'){pageview(pageInfoArrayIndex);}}
var pageview=function(pageInfoKey,options){_log('Pageview event added to the dataCollector.',LOG_LEVEL.DEBUG);_pushToDataCollector({'event':'pageview','pageInfoKey':pageInfoKey,'options':options});}
var productview=function(){_log('Productview event added to the dataCollector.',LOG_LEVEL.DEBUG);_pushToDataCollector({'event':'productview'});}
var cartView=function(){_log('CartView event added to the dataCollector.',LOG_LEVEL.DEBUG);_pushToDataCollector({'event':'cartview'});}
var productsPurchased=function(){_log('ProductsPurchased event added to the dataCollector.',LOG_LEVEL.DEBUG);_pushToDataCollector({'event':'productsPurchased'});}
var conversion=function(conversion){_log('Conversion event added to the dataCollector.',LOG_LEVEL.DEBUG);_pushToDataCollector({'event':'conversion','eventName':conversion.eventName,'actionType':conversion.actionType,'category':conversion.category});}
var addProducts=_addProducts;var addProductsToCart=_addProductsToCart;var addSegmentValue=_setSegmentValue;var addManySegmentValues=function(segmentValues,pageInfoArrayIndex){if(!_isValidPageInfoArrayIndex(pageInfoArrayIndex))pageInfoArrayIndex=0;if(!Array.isArray(segmentValues))segmentValues=[segmentValues];for(var i=0,segmentsLen=segmentValues.length;i<segmentsLen;i++){var segment=_getSegmentKeyValue(_trim(segmentValues[i]));addSegmentValue(segment.key,segment.value,pageInfoArrayIndex);}}
var customError=function(errorCode,errorMessage){var eventInfo={'event':'customError','errorCode':errorCode,'errorMessage':errorMessage};_pushToDataCollector(eventInfo);}
var manualLinkClick=function(href,linkname){var eventInfo={'event':'manualLinkClick','href':href,'linkname':linkname};_pushToDataCollector(eventInfo);}
var revertToPrevPageID=function(pageInfoArrayIndex){if(typeof cG7==='undefined'){_log('cG7 is undefined. Unable to call revertToPrevPageID() until Coremetrics libraries are ready.',LOG_LEVEL.WARN);}else{_revertToPreviousPageID(pageInfoArrayIndex);}}
var rescanDOM=function(){_rescanDOM();}
var log=function(data){var eventInfo={'event':'log','data':data};var _timestamp=function(){var e=new Date;return e.getTime()-e.getTimezoneOffset()}
if(!Array.isArray(data)&&typeof data==='object'&&!('ts'in data))data.ts=_timestamp();_pushToDataCollector(eventInfo);}
if(doc.readyState==="complete"||(doc.readyState!=="loading"&&!doc.documentElement.doScroll)){_onDomReady();}else{doc.addEventListener("DOMContentLoaded",_domLoadComplete);}
var core={'env':env,'plugins':plugins,'ready':_ready,'on':_listener,'trigger':_trigger,'Store':Store,'Cookies':Cookies,'PixelTag':PixelTag,'Ajax':Ajax,'QueryString':QueryString,'SudoPromise':SudoPromise,'customEvent':_raiseCustomEvent,'ddo':ddo,'polyfills':polyfills,'log':log
,'_getPageInfo':_getPageInfo,'_isValidPageInfoArrayIndex':_isValidPageInfoArrayIndex,'_log':_log,'_readCookie':_readCookie,'_asArray':_asArray,'_sendLogBeacon':_sendLogBeacon}
if(!loadCoremetrics){_init();return core;}
var bactm={'pageview':pageview,'addManySegmentValues':addManySegmentValues,'addProducts':addProducts,'addProductsToCart':addProductsToCart,'addSegmentValue':addSegmentValue,'cartView':cartView,'conversion':conversion,'customError':customError,'manualLinkClick':manualLinkClick,'rescanDOM':rescanDOM,'productsPurchased':productsPurchased,'productview':productview,'revertToPrevPageID':revertToPrevPageID,'impressions':_impressions}
for(var key in core){if(core.hasOwnProperty(key))bactm[key]=core[key];}
win['cm_NormalizeList']='sessionid=;pageID=;accessToken=;token=;adx=;features=;request_locale=;deviceCode=;phoneNumber=;emailAddress=;callback=;divId=;qry=;tid=;dropdown-loan=;gclid=;currencyInputField=;rq=;searchText=;';win['bactm_evtSel']=1;win['bactm_addSegmentationValues']=_bactmAddSegmentationValues;win['bactm_setDD']=_setCoremetricsEnvironment;win['bactm_beginDataCollection']=_beginDataCollection;win['bactm_capturePageview']=_capturePageview;win['bactm_captureAddlPageview']=_captureAdditionalPageview;win['bactm_captureDynamicPageview']=_captureDynamicPageview;win['bactm_loadDataCollection']=_loadDataCollection;win['bactm_addProducts']=_bactmAddProducts;win['bactm_captureCustomError']=customError;win['bactm_createManualLinkClickTag']=manualLinkClick;win['bactm_restorePageID']=revertToPrevPageID;win['bactm_productView']=_bactmProductView;if(typeof win['cmCreateManualLinkClickTag']!=='function'){win['cmCreateManualLinkClickTag']=_cmCreateManualLinkClickTag;}
if(typeof win['cmCreateCustomError']!=='function'){win['cmCreateCustomError']=_cmCreateCustomError;}
if(typeof win['cmCreateImpressionTag']!=='function'){win['cmCreateImpressionTag']=_cmCreateImpressionTag;}
_init();return bactm;});}catch(e){};if(!utag_condload){try{try{var ignore_keys=[];var prefix="";var nested_delimeter=".";var data_layer="digitalData";var tealium_object="utag_data";if(!Object.keys){Object.keys=(function(){'use strict';var hasOwnProperty=Object.prototype.hasOwnProperty,hasDontEnumBug=!({toString:null}).propertyIsEnumerable('toString'),dontEnums=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],dontEnumsLength=dontEnums.length;return function(obj){if(typeof obj!=='object'&&(typeof obj!=='function'||obj===null)){throw new TypeError('Object.keys called on non-object');}
var result=[],prop,i;for(prop in obj){if(hasOwnProperty.call(obj,prop)){result.push(prop);}}
if(hasDontEnumBug){for(i=0;i<dontEnumsLength;i++){if(hasOwnProperty.call(obj,dontEnums[i])){result.push(dontEnums[i]);}}}
return result;};}());}
window[tealium_object]=window[tealium_object]||{};function ignoreKey(key){var should_ignore_key=0;for(var k=0;k<ignore_keys.length;k++){var re=new RegExp("^"+ignore_keys[k]);if(key.match(re)){should_ignore_key=1;try{console.log('Ignoring key: '+key);}catch(e){}}}
return should_ignore_key;}
function processDataObject(obj,parent_key){if(typeof parent_key==="undefined"){parent_key="";}else{parent_key+=""+nested_delimeter;}
Object.keys(obj).forEach(function(key){var nested_key_name=parent_key+key;var new_key_name=prefix+parent_key+key;if(typeof obj[key]!=='undefined'&&obj[key]!=null){if((typeof obj[key]).match(/boolean|string|number/)&&!ignoreKey(key)){window[tealium_object][new_key_name]=""+obj[key];}else if(obj[key].constructor===Object&&!ignoreKey(key)){processDataObject(obj[key],nested_key_name);}else if(obj[key].constructor===Array){processDataArray(obj[key],nested_key_name);}}});}
function processDataArray(obj,parent_key){if(typeof parent_key==="undefined"){parent_key="";}else{parent_key+=""+nested_delimeter;}
var new_key_name=prefix+parent_key;for(var n=0;n<obj.length;n++){if((typeof obj[n]).match(/boolean|string|number/)){if(typeof window[tealium_object][new_key_name]==="undefined"){window[tealium_object][new_key_name]=[];}
window[tealium_object][new_key_name].push(""+obj[n]);}else if(obj[n].constructor===Object){Object.keys(obj[n]).forEach(function(array_key){var new_obj=obj[n];array_key_name=new_key_name+array_key;if(typeof new_obj[array_key]!=='undefined'&&new_obj[array_key]!=null){if((typeof new_obj[array_key]).match(/boolean|string|number/)&&!ignoreKey(array_key)){if(typeof window[tealium_object][array_key_name]==="undefined"){window[tealium_object][array_key_name]=[];}
window[tealium_object][array_key_name].push(""+new_obj[array_key]);}else if(new_obj[array_key].constructor===Array){processDataArray(new_obj[array_key],array_key_name);}}});}}}
if(typeof window[data_layer]!=='undefined'){if(window[data_layer].constructor===Array){for(var i=0;i<window[data_layer].length;i++){processDataObject(window[data_layer][i]);}}else{processDataObject(window[data_layer]);}}else{try{console.log('Error "'+data_layer+'" doesn\'t exist on the page');}catch(e){}}}catch(e){try{console.log('Error trying to convert data layer: '+e);}catch(e){}}}catch(e){}};if(!utag_condload){try{try{(function(){var tcSessionCookieName='inqSession_10004750';var isActiveTouchCommerceChat=function(){var cookies=document.cookie,start=cookies.indexOf(tcSessionCookieName+'='),end=cookies.indexOf(';',start),realEnd=start>0&&end?end:cookieWithChat.length,cookie=cookies.substring(start,realEnd),value=decodeURIComponent(cookie.substring(cookie.indexOf('=')+1));try{var v=eval('('+value+')');}catch(e){}
if(v&&v.chat&&v.chat.id)return true;return false;}
window.bactm_isChatActive=isActiveTouchCommerceChat();})();}catch(e){utag.DB(e)}}catch(e){}};if(typeof utag=="undefined"&&!utag_condload){var utag={id:"bofa.olb",o:{},sender:{},send:{},rpt:{ts:{a:new Date()}},dbi:[],db_log:[],loader:{q:[],lc:0,f:{},p:0,ol:0,wq:[],lq:[],bq:{},bk:{},rf:0,ri:0,rp:0,rq:[],ready_q:[],sendq:{"pending":0},run_ready_q:function(){for(var i=0;i<utag.loader.ready_q.length;i++){utag.DB("READY_Q:"+i);try{utag.loader.ready_q[i]()}catch(e){utag.DB(e)};}},lh:function(a,b,c){a=""+location.hostname;b=a.split(".");c=(/\.co\.|\.com\.|\.org\.|\.edu\.|\.net\.|\.asn\./.test(a))?3:2;return b.splice(b.length-c,c).join(".");},WQ:function(a,b,c,d,g){utag.DB('WQ:'+utag.loader.wq.length);try{if(utag.udoname&&utag.udoname.indexOf(".")<0){utag.ut.merge(utag.data,window[utag.udoname],0);}
if(utag.cfg.load_rules_at_wait){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};d=0;g=[];for(a=0;a<utag.loader.wq.length;a++){b=utag.loader.wq[a];b.load=utag.loader.cfg[b.id].load;if(b.load==4){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.load>0){g.push(b);d++;}else{this.f[b.id]=1;}}
for(a=0;a<g.length;a++){utag.loader.AS(g[a]);}
if(d==0){utag.loader.END();}},AS:function(a,b,c,d){utag.send[a.id]=a;if(typeof a.src=='undefined'){a.src=utag.cfg.path+((typeof a.name!='undefined')?a.name:'ut'+'ag.'+a.id+'.js')}
a.src+=(a.src.indexOf('?')>0?'&':'?')+'utv='+(a.v?utag.cfg.template+a.v:utag.cfg.v);utag.rpt['l_'+a.id]=a.src;b=document;this.f[a.id]=0;if(a.load==2){utag.DB("Attach sync: "+a.src);a.uid=a.id;b.write('<script id="utag_'+a.id+'" src="'+a.src+'"></scr'+'ipt>')
if(typeof a.cb!='undefined')a.cb();}else if(a.load==1||a.load==3){if(b.createElement){c='utag_bofa.olb_'+a.id;if(!b.getElementById(c)){d={src:a.src,id:c,uid:a.id,loc:a.loc}
if(a.load==3){d.type="iframe"};if(typeof a.cb!='undefined')d.cb=a.cb;utag.ut.loader(d);}}}},GV:function(a,b,c){b={};for(c in a){if(a.hasOwnProperty(c)&&typeof a[c]!="function")b[c]=a[c];}
return b},OU:function(a,b,c,d,f){try{if(typeof utag.data['cp.OPTOUTMULTI']!='undefined'){c=utag.loader.cfg;a=utag.ut.decode(utag.data['cp.OPTOUTMULTI']).split('|');for(d=0;d<a.length;d++){b=a[d].split(':');if(b[1]*1!==0){if(b[0].indexOf('c')==0){for(f in utag.loader.GV(c)){if(c[f].tcat==b[0].substring(1))c[f].load=0}}else if(b[0]*1==0){utag.cfg.nocookie=true}else{for(f in utag.loader.GV(c)){if(c[f].tid==b[0])c[f].load=0}}}}}}catch(e){utag.DB(e)}},RDdom:function(o){var d=document||{},l=location||{};o["dom.referrer"]=d.referrer;o["dom.title"]=""+d.title;o["dom.domain"]=""+l.hostname;o["dom.query_string"]=(""+l.search).substring(1);o["dom.hash"]=(""+l.hash).substring(1);o["dom.url"]=""+d.URL;o["dom.pathname"]=""+l.pathname;o["dom.viewport_height"]=window.innerHeight||(d.documentElement?d.documentElement.clientHeight:960);o["dom.viewport_width"]=window.innerWidth||(d.documentElement?d.documentElement.clientWidth:960);},RDcp:function(o,b,c,d){b=utag.loader.RC();for(d in b){if(d.match(/utag_(.*)/)){for(c in utag.loader.GV(b[d])){o["cp.utag_"+RegExp.$1+"_"+c]=b[d][c];}}}
for(c in utag.loader.GV((utag.cl&&!utag.cl['_all_'])?utag.cl:b)){if(c.indexOf("utag_")<0&&typeof b[c]!="undefined")o["cp."+c]=b[c];}
},RDqp:function(o,a,b,c){a=location.search+(location.hash+'').replace("#","&");if(utag.cfg.lowerqp){a=a.toLowerCase()};if(a.length>1){b=a.substring(1).split('&');for(a=0;a<b.length;a++){c=b[a].split("=");if(c.length>1){o["qp."+c[0]]=utag.ut.decode(c[1])}}}},RDmeta:function(o,a,b,h){a=document.getElementsByTagName("meta");for(b=0;b<a.length;b++){try{h=a[b].name||a[b].getAttribute("property")||"";}catch(e){h="";utag.DB(e)};if(utag.cfg.lowermeta){h=h.toLowerCase()};if(h!=""){o["meta."+h]=a[b].content}}},RDva:function(o){var readAttr=function(o,l){var a="",b;a=localStorage.getItem(l);if(!a||a=="{}")return;b=utag.ut.flatten({va:JSON.parse(a)});utag.ut.merge(o,b,1);}
try{readAttr(o,"tealium_va");readAttr(o,"tealium_va_"+o["ut.account"]+"_"+o["ut.profile"]);}catch(e){utag.DB(e)}},RDut:function(o,a){o["ut.domain"]=utag.cfg.domain;o["ut.version"]=utag.cfg.v;o["ut.event"]=a||"view";o["ut.visitor_id"]=o["cp.utag_main_v_id"];o["ut.session_id"]=o["cp.utag_main_ses_id"];try{o["ut.account"]=utag.cfg.utid.split("/")[0];o["ut.profile"]=utag.cfg.utid.split("/")[1];o["ut.env"]=utag.cfg.path.split("/")[6];}catch(e){utag.DB(e)}},RDses:function(o,a,c){a=(new Date()).getTime();c=(a+parseInt(utag.cfg.session_timeout))+"";if(!o["cp.utag_main_ses_id"]){o["cp.utag_main_ses_id"]=a+"";o["cp.utag_main__ss"]="1";o["cp.utag_main__sn"]=(1+parseInt(o["cp.utag_main__sn"]||0))+"";}else{o["cp.utag_main__ss"]="0";}
o["cp.utag_main__pn"]=o["cp.utag_main__pn"]||"1";o["cp.utag_main__st"]=c;utag.loader.SC("utag_main",{"_sn":(o["cp.utag_main__sn"]||1),"_ss":o["cp.utag_main__ss"],"_st":c,"ses_id":(o["cp.utag_main_ses_id"]||a)+";exp-session","_pn":o["cp.utag_main__pn"]+";exp-session"});},RDpv:function(o){if(typeof utag.pagevars=="function"){utag.DB("Read page variables");utag.pagevars(o);}},RD:function(o,a){utag.DB("utag.loader.RD");utag.DB(o);utag.loader.RDcp(o);if(!utag.loader.rd_flag){utag.loader.rd_flag=1;o["cp.utag_main_v_id"]=o["cp.utag_main_v_id"]||utag.ut.vi((new Date()).getTime());o["cp.utag_main__pn"]=(1+parseInt(o["cp.utag_main__pn"]||0))+"";utag.loader.SC("utag_main",{"v_id":o["cp.utag_main_v_id"]});utag.loader.RDses(o);}
if(a&&!utag.cfg.noview)utag.loader.RDses(o);utag.loader.RDqp(o);utag.loader.RDmeta(o);utag.loader.RDdom(o);utag.loader.RDut(o,a||"view");utag.loader.RDpv(o);utag.loader.RDva(o);},RC:function(a,x,b,c,d,e,f,g,h,i,j,k,l,m,n,o,v,ck,cv,r,s,t){o={};b=(""+document.cookie!="")?(document.cookie).split("; "):[];r=/^(.*?)=(.*)$/;s=/^(.*);exp-(.*)$/;t=(new Date()).getTime();for(c=0;c<b.length;c++){if(b[c].match(r)){ck=RegExp.$1;cv=RegExp.$2;}
e=utag.ut.decode(cv);if(typeof ck!="undefined"){if(ck.indexOf("ulog")==0||ck.indexOf("utag_")==0){e=cv.split("$");g=[];j={};for(f=0;f<e.length;f++){try{g=e[f].split(":");if(g.length>2){g[1]=g.slice(1).join(":");}
v="";if((""+g[1]).indexOf("~")==0){h=g[1].substring(1).split("|");for(i=0;i<h.length;i++)h[i]=utag.ut.decode(h[i]);v=h}else v=utag.ut.decode(g[1]);j[g[0]]=v;}catch(er){utag.DB(er)};}
o[ck]={};for(f in utag.loader.GV(j)){if(j[f]instanceof Array){n=[];for(m=0;m<j[f].length;m++){if(j[f][m].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);if(k>t)n[m]=(x==0)?j[f][m]:RegExp.$1;}}
j[f]=n.join("|");}else{j[f]=""+j[f];if(j[f].match(s)){k=(RegExp.$2=="session")?(typeof j._st!="undefined"?j._st:t-1):parseInt(RegExp.$2);j[f]=(k<t)?null:(x==0?j[f]:RegExp.$1);}}
if(j[f])o[ck][f]=j[f];}}else if(utag.cl[ck]||utag.cl['_all_']){o[ck]=e}}}
return(a)?(o[a]?o[a]:{}):o;},SC:function(a,b,c,d,e,f,g,h,i,j,k,x,v){if(!a)return 0;if(a=="utag_main"&&utag.cfg.nocookie)return 0;v="";var date=new Date();var exp=new Date();exp.setTime(date.getTime()+(365*24*60*60*1000));x=exp.toGMTString();if(c&&c=="da"){x="Thu, 31 Dec 2009 00:00:00 GMT";}else if(a.indexOf("utag_")!=0&&a.indexOf("ulog")!=0){if(typeof b!="object"){v=b}}else{d=utag.loader.RC(a,0);for(e in utag.loader.GV(b)){f=""+b[e];if(f.match(/^(.*);exp-(\d+)(\w)$/)){g=date.getTime()+parseInt(RegExp.$2)*((RegExp.$3=="h")?3600000:86400000);if(RegExp.$3=="u")g=parseInt(RegExp.$2);f=RegExp.$1+";exp-"+g;}
if(c=="i"){if(d[e]==null)d[e]=f;}else if(c=="d")delete d[e];else if(c=="a")d[e]=(d[e]!=null)?(f-0)+(d[e]-0):f;else if(c=="ap"||c=="au"){if(d[e]==null)d[e]=f;else{if(d[e].indexOf("|")>0){d[e]=d[e].split("|")}
g=(d[e]instanceof Array)?d[e]:[d[e]];g.push(f);if(c=="au"){h={};k={};for(i=0;i<g.length;i++){if(g[i].match(/^(.*);exp-(.*)$/)){j=RegExp.$1;}
if(typeof k[j]=="undefined"){k[j]=1;h[g[i]]=1;}}
g=[];for(i in utag.loader.GV(h)){g.push(i);}}
d[e]=g}}else d[e]=f;}
h=new Array();for(g in utag.loader.GV(d)){if(d[g]instanceof Array){for(c=0;c<d[g].length;c++){d[g][c]=encodeURIComponent(d[g][c])}
h.push(g+":~"+d[g].join("|"))}else h.push((g+":").replace(/[\,\$\;\?]/g,"")+encodeURIComponent(d[g]))}
if(h.length==0){h.push("");x=""}
v=(h.join("$"));}
document.cookie=a+"="+v+";path=/;domain="+utag.cfg.domain+";expires="+x;return 1},LOAD:function(a,b,c,d){if(!utag.loader.cfg){return}
if(this.ol==0){if(utag.loader.cfg[a].block&&utag.loader.cfg[a].cbf){this.f[a]=1;delete utag.loader.bq[a];}
for(b in utag.loader.GV(utag.loader.bq)){if(utag.loader.cfg[a].load==4&&utag.loader.cfg[a].wait==0){utag.loader.bk[a]=1;utag.DB("blocked: "+a);}
utag.DB("blocking: "+b);return;}
utag.loader.INIT();return;}
utag.DB('utag.loader.LOAD:'+a);if(this.f[a]==0){this.f[a]=1;if(utag.cfg.noview!=true){if(utag.loader.cfg[a].send){utag.DB("SENDING: "+a);try{if(utag.loader.sendq.pending>0&&utag.loader.sendq[a]){utag.DB("utag.loader.LOAD:sendq: "+a);while(d=utag.loader.sendq[a].shift()){utag.DB(d);utag.sender[a].send(d.event,utag.handler.C(d.data));utag.loader.sendq.pending--;}}else{utag.sender[a].send('view',utag.handler.C(utag.data));}
utag.rpt['s_'+a]=0;}catch(e){utag.DB(e);utag.rpt['s_'+a]=1;}}}
if(utag.loader.rf==0)return;for(b in utag.loader.GV(this.f)){if(this.f[b]==0||this.f[b]==2)return}
utag.loader.END();}},EV:function(a,b,c,d){if(b=="ready"){if(!utag.data){try{utag.cl={'_all_':1};utag.loader.initdata();utag.loader.RD(utag.data);}catch(e){utag.DB(e)};}
if((document.attachEvent||utag.cfg.dom_complete)?document.readyState==="complete":document.readyState!=="loading")setTimeout(c,1);else{utag.loader.ready_q.push(c);var RH;if(utag.loader.ready_q.length<=1){if(document.addEventListener){RH=function(){document.removeEventListener("DOMContentLoaded",RH,false);utag.loader.run_ready_q()};if(!utag.cfg.dom_complete)document.addEventListener("DOMContentLoaded",RH,false);window.addEventListener("load",utag.loader.run_ready_q,false);}else if(document.attachEvent){RH=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",RH);utag.loader.run_ready_q()}};document.attachEvent("onreadystatechange",RH);window.attachEvent("onload",utag.loader.run_ready_q);}}}}else{if(a.addEventListener){a.addEventListener(b,c,false)}else if(a.attachEvent){a.attachEvent(((d==1)?"":"on")+b,c)}}},END:function(b,c,d,e,v,w){if(this.ended){return};this.ended=1;utag.DB("loader.END");b=utag.data;if(utag.handler.base&&utag.handler.base!='*'){e=utag.handler.base.split(",");for(d=0;d<e.length;d++){if(typeof b[e[d]]!="undefined")utag.handler.df[e[d]]=b[e[d]]}}else if(utag.handler.base=='*'){utag.ut.merge(utag.handler.df,b,1);}
utag.rpt['r_0']="t";for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}
utag.rpt.ts['s']=new Date();v=".tiqcdn.com";w=utag.cfg.path.indexOf(v);if(w>0&&b["cp.utag_main__ss"]==1&&!utag.cfg.no_session_count)utag.ut.loader({src:utag.cfg.path.substring(0,w)+v+"/ut"+"ag/tiqapp/ut"+"ag.v.js?a="+utag.cfg.utid+(utag.cfg.nocookie?"&nocookie=1":"&cb="+(new Date).getTime()),id:"tiqapp"})
if(utag.cfg.noview!=true)utag.handler.RE('view',b,"end");utag.handler.INIT();}},DB:function(a,b){if(utag.cfg.utagdb===false){return;}else if(typeof utag.cfg.utagdb=="undefined"){b=document.cookie+'';utag.cfg.utagdb=((b.indexOf('utagdb=true')>=0)?true:false);}
if(utag.cfg.utagdb===true){var t;if(utag.ut.typeOf(a)=="object"){t=utag.handler.C(a)}else{t=a}
utag.db_log.push(t);try{if(!utag.cfg.noconsole)console.log(t)}catch(e){}}},RP:function(a,b,c){if(typeof a!='undefined'&&typeof a.src!='undefined'&&a.src!=''){b=[];for(c in utag.loader.GV(a)){if(c!='src')b.push(c+'='+escape(a[c]))}
this.dbi.push((new Image()).src=a.src+'?utv='+utag.cfg.v+'&utid='+utag.cfg.utid+'&'+(b.join('&')))}},view:function(a,c,d){return this.track({event:'view',data:a,cfg:{cb:c,uids:d}})},link:function(a,c,d){return this.track({event:'link',data:a,cfg:{cb:c,uids:d}})},track:function(a,b,c,d){if(typeof a=="string")a={event:a,data:b,cfg:{cb:c}};for(d in utag.loader.GV(utag.o)){try{utag.o[d].handler.trigger(a.event||"view",a.data||a,a.cfg)}catch(e){utag.DB(e)};}
if(a.cfg&&a.cfg.cb)try{a.cfg.cb()}catch(e){utag.DB(e)};return true},handler:{base:"",df:{},o:{},send:{},iflag:0,INIT:function(a,b,c){utag.DB('utag.handler.INIT');if(utag.initcatch){utag.initcatch=0;return}
this.iflag=1;a=utag.loader.q.length;if(a>0){utag.DB("Loader queue");for(b=0;b<a;b++){c=utag.loader.q[b];utag.handler.trigger(c.a,c.b,c.c)}}
},test:function(){return 1},LR:function(b){utag.DB("Load Rules");for(var d in utag.loader.GV(utag.cond)){utag.cond[d]=false;}
utag.DB(b);utag.loader.loadrules(b);utag.DB(utag.cond);utag.loader.initcfg();utag.loader.OU();for(var r in utag.loader.GV(utag.cond)){utag.rpt['r_'+r]=(utag.cond[r])?"t":"f";}},RE:function(a,b,c,d,e,f,g){if(c!="alr"&&!this.cfg_extend){return 0;}
utag.DB("RE: "+c);if(c=="alr")utag.DB("All Tags EXTENSIONS");utag.DB(b);if(typeof this.extend!="undefined"){g=0;for(d=0;d<this.extend.length;d++){try{e=0;if(typeof this.cfg_extend!="undefined"){f=this.cfg_extend[d];if(typeof f.count=="undefined")f.count=0;if(f[a]==0||(f.once==1&&f.count>0)||f[c]==0){e=1}else{if(f[c]==1){g=1};f.count++}}
if(e!=1){this.extend[d](a,b);utag.rpt['ex_'+d]=0}}catch(er){utag.DB(er);utag.rpt['ex_'+d]=1;utag.ut.error({e:er.message,s:utag.cfg.path+'utag.js',l:d,t:'ge'});}}
utag.DB(b);return g;}},trigger:function(a,b,c,d,e,f){utag.DB('trigger:'+a+(c&&c.uids?":"+c.uids.join(","):""));b=b||{};utag.DB(b);if(!this.iflag){utag.DB("trigger:called before tags loaded");for(d in utag.loader.f){if(!(utag.loader.f[d]===1))utag.DB('Tag '+d+' did not LOAD')}
utag.loader.q.push({a:a,b:utag.handler.C(b),c:c});return;}
utag.ut.merge(b,this.df,0);utag.loader.RD(b,a);utag.cfg.noview=false;function sendTag(a,b,d){try{if(typeof utag.sender[d]!="undefined"){utag.DB("SENDING: "+d);utag.sender[d].send(a,utag.handler.C(b));utag.rpt['s_'+d]=0;}else if(utag.loader.cfg[d].load!=2&&utag.loader.cfg[d].s2s!=1){utag.loader.sendq[d]=utag.loader.sendq[d]||[];utag.loader.sendq[d].push({"event":a,"data":utag.handler.C(b)});utag.loader.sendq.pending++;utag.loader.AS({id:d,load:1});}}catch(e){utag.DB(e)}}
if(c&&c.uids){this.RE(a,b,"alr");for(f=0;f<c.uids.length;f++){d=c.uids[f];sendTag(a,b,d);}}else if(utag.cfg.load_rules_ajax){this.RE(a,b,"blr");this.LR(b);this.RE(a,b,"alr");for(f=0;f<utag.loader.cfgsort.length;f++){d=utag.loader.cfgsort[f];if(utag.loader.cfg[d].load&&utag.loader.cfg[d].send){sendTag(a,b,d);}}}else{this.RE(a,b,"alr");for(d in utag.loader.GV(utag.sender)){sendTag(a,b,d);}}
this.RE(a,b,"end");},C:function(a,b,c){b={};for(c in utag.loader.GV(a)){if(a[c]instanceof Array){b[c]=a[c].slice(0)}else{b[c]=a[c]}}
return b}},ut:{pad:function(a,b,c,d){a=""+((a-0).toString(16));d='';if(b>a.length){for(c=0;c<(b-a.length);c++){d+='0'}}return""+d+a},vi:function(t,a,b){if(!utag.v_id){a=this.pad(t,12);b=""+Math.random();a+=this.pad(b.substring(2,b.length),16);try{a+=this.pad((navigator.plugins.length?navigator.plugins.length:0),2);a+=this.pad(navigator.userAgent.length,3);a+=this.pad(document.URL.length,4);a+=this.pad(navigator.appVersion.length,3);a+=this.pad(screen.width+screen.height+parseInt((screen.colorDepth)?screen.colorDepth:screen.pixelDepth),5)}catch(e){utag.DB(e);a+="12345"};utag.v_id=a;}
return utag.v_id},hasOwn:function(o,a){return o!=null&&Object.prototype.hasOwnProperty.call(o,a)},isEmptyObject:function(o,a){for(a in o){if(utag.ut.hasOwn(o,a))return false}
return true},isEmpty:function(o){var t=utag.ut.typeOf(o);if(t=="number"){return isNaN(o)}else if(t=="boolean"){return false}else if(t=="string"){return o.length===0}else return utag.ut.isEmptyObject(o)},typeOf:function(e){return({}).toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();},flatten:function(o){var a={};function r(c,p){if(Object(c)!==c||c instanceof Array){a[p]=c;}else{if(utag.ut.isEmptyObject(c)){}else{for(var d in c){r(c[d],p?p+"."+d:d);}}}}
r(o,"");return a;},merge:function(a,b,c,d){if(c){for(d in utag.loader.GV(b)){a[d]=b[d]}}else{for(d in utag.loader.GV(b)){if(typeof a[d]=="undefined")a[d]=b[d]}}},decode:function(a,b){b="";try{b=decodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=unescape(a)};return b},encode:function(a,b){b="";try{b=encodeURIComponent(a)}catch(e){utag.DB(e)};if(b==""){b=escape(a)};return b},error:function(a,b,c){if(typeof utag_err!="undefined"){utag_err.push(a)}},loader:function(o,a,b,c,l,m){utag.DB(o);a=document;if(o.type=="iframe"){m=a.getElementById(o.id);if(m&&m.tagName=="IFRAME"){b=m;}else{b=a.createElement("iframe");}
o.attrs=o.attrs||{};utag.ut.merge(o.attrs,{"height":"1","width":"1","style":"display:none"},0);}else if(o.type=="img"){utag.DB("Attach img: "+o.src);b=new Image();}else{b=a.createElement("script");b.language="javascript";b.type="text/javascript";b.async=1;b.charset="utf-8";}
if(o.id){b.id=o.id};for(l in utag.loader.GV(o.attrs)){b.setAttribute(l,o.attrs[l])}
b.setAttribute("src",o.src);if(typeof o.cb=="function"){if(b.addEventListener){b.addEventListener("load",function(){o.cb()},false);}else{b.onreadystatechange=function(){if(this.readyState=='complete'||this.readyState=='loaded'){this.onreadystatechange=null;o.cb()}};}}
if(o.type!="img"&&!m){l=o.loc||"head";c=a.getElementsByTagName(l)[0];if(c){utag.DB("Attach to "+l+": "+o.src);if(l=="script"){c.parentNode.insertBefore(b,c);}else{c.appendChild(b)}}}}}};utag.o['bofa.olb']=utag;utag.cfg={template:"ut4.41.",load_rules_ajax:true,load_rules_at_wait:false,lowerqp:false,noconsole:false,session_timeout:1800000,readywait:0,noload:0,domain:utag.loader.lh(),path:"//tags.tiqcdn.com/utag/bofa/olb/prod/",utid:"bofa/olb/201805251700"};utag.cfg.v=utag.cfg.template+"201805251700";utag.cond={2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0};utag.pagevars=function(ud){ud=ud||utag.data;try{ud['js_page.digitalData.page.pageInfo[0].pageID']=digitalData.page.pageInfo[0].pageID}catch(e){utag.DB(e)};try{ud['js_page.digitalData.load_cobrowse']=digitalData.load_cobrowse}catch(e){utag.DB(e)};try{ud['js_page.digitalData.load_convertro']=digitalData.load_convertro}catch(e){utag.DB(e)};try{ud['js_page.window.bactm_isChatActive']=window.bactm_isChatActive}catch(e){utag.DB(e)};try{ud['js_page.digitalData.load_touchcommerce']=digitalData.load_touchcommerce}catch(e){utag.DB(e)};try{ud['js_page.digitalData.load_audiencemanager']=digitalData.load_audiencemanager}catch(e){utag.DB(e)};try{ud['js_page.digitalData.load_opinionlabs']=digitalData.load_opinionlabs}catch(e){utag.DB(e)};try{ud['js_page.digitalData.load_coremetrics']=digitalData.load_coremetrics}catch(e){utag.DB(e)};};utag.loader.initdata=function(){try{utag.data=(typeof utag_data!='undefined')?utag_data:{};utag.udoname='utag_data';}catch(e){utag.data={};utag.DB('idf:'+e);}};utag.loader.loadrules=function(_pd,_pc){var d=_pd||utag.data;var c=_pc||utag.cond;for(var l in utag.loader.GV(c)){switch(l){case'2':try{c[2]|=(typeof d['js_page.digitalData.load_touchcommerce']=='undefined'&&d['disableChatIfNotActive'].toString().toLowerCase()!='true'.toLowerCase())||(typeof d['js_page.digitalData.load_touchcommerce']=='undefined'&&d['disableChatIfNotActive'].toString().toLowerCase()=='true'.toLowerCase()&&d['js_page.window.bactm_isChatActive'].toString().toLowerCase()=='true'.toLowerCase())||(d['js_page.digitalData.load_touchcommerce'].toString().toLowerCase()!='false'.toLowerCase()&&d['js_page.digitalData.load_touchcommerce'].toString().toLowerCase()!='MainLib'.toLowerCase()&&d['disableChatIfNotActive'].toString().toLowerCase()!='true'.toLowerCase())||(d['js_page.digitalData.load_touchcommerce'].toString().toLowerCase()!='false'.toLowerCase()&&d['js_page.digitalData.load_touchcommerce'].toString().toLowerCase()!='MainLib'.toLowerCase()&&d['disableChatIfNotActive'].toString().toLowerCase()=='true'.toLowerCase()&&d['js_page.window.bactm_isChatActive'].toString().toLowerCase()=='true'.toLowerCase())}catch(e){utag.DB(e)};break;case'3':try{c[3]|=(typeof d['js_page.digitalData.load_touchcommerce']!='undefined'&&d['js_page.digitalData.load_touchcommerce']=='MainLib')}catch(e){utag.DB(e)};break;case'4':try{c[4]|=(typeof d['js_page.digitalData.load_audiencemanager']=='undefined')||(d['js_page.digitalData.load_audiencemanager'].toString().toLowerCase()!='disable'.toLowerCase())}catch(e){utag.DB(e)};break;case'5':try{c[5]|=(d['Load_LegacyOpinionLabs'].toString().toLowerCase()=='false'.toLowerCase()&&d['js_page.digitalData.load_opinionlabs'].toString().toLowerCase()!='false'.toLowerCase())}catch(e){utag.DB(e)};break;case'6':try{c[6]|=(d['Load_LegacyOpinionLabs'].toString().toLowerCase()=='true'.toLowerCase())}catch(e){utag.DB(e)};break;case'7':try{c[7]|=(typeof d['js_page.digitalData.load_coremetrics']=='undefined')||(d['js_page.digitalData.load_coremetrics'].toString().toLowerCase().indexOf('false'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'8':try{c[8]|=(typeof d['js_page.digitalData.load_cobrowse']=='undefined')||(d['js_page.digitalData.load_cobrowse'].toString().toLowerCase().indexOf('false'.toLowerCase())<0)}catch(e){utag.DB(e)};break;case'9':try{c[9]|=(d['Load_getCoremetricsIdPlugin'].toString().toLowerCase()=='true'.toLowerCase())}catch(e){utag.DB(e)};break;}}};utag.pre=function(){utag.loader.initdata();utag.pagevars();try{utag.loader.RD(utag.data)}catch(e){utag.DB(e)};utag.loader.loadrules();};utag.loader.GET=function(){utag.cl={'_all_':1};utag.pre();utag.handler.extend=[function(a,b){try{if(utag.data['qp.utagdb']){if(utag.data['qp.utagdb'].match(/1|true/i)){document.cookie='utagdb=true';utag.data['cp.utagdb']='true';utag.cfg.utagdb=true;}else{document.cookie='utagdb=false';utag.data['cp.utagdb']='false';utag.cfg.utagdb=false;}}
}catch(e){utag.DB('Tealium Debugging Tools Failed: '+e);}},function(a,b){try{if(1){(function(parent,name,context,definition){if(!context||!context[parent]||!Array.prototype.filter){return;}
context[parent]['plugins'][name]=definition();})('bactm','adobemid',typeof window!=='undefined'?window:null,function(){var parent='bactm',ba=window[parent],win=window,doc=document||{},version='1.1.2',ddo=win.digitalData,LOG_LEVEL={OFF:10,FATAL:5,ERROR:4,WARN:3,INFO:2,DEBUG:1},adobeMID={},adobeMIDLTS,d_orgid="A9893BC75245B1D70A490D4D@AdobeOrg",d_ver="2",pageId,currentUrl=win.location.href,ls=null,adobeMIDSession=new ba.Store('adobeMID',{type:'sessionCookie'}),DISABLE_MID=['homepage:Content:Personal;home_personal','homepage:Content;home_personal','homepage:Content:smbus;homepage_smbus','homepage:Content:Personal;homepage_personal']
if(!ddo)return;var _get=function(key){return adobeMID[key];};var _writeToLocalStorage=function(fn){var httpRequest=new XMLHttpRequest();httpRequest.withCredentials=true;httpRequest.onreadystatechange=function(){if(httpRequest.readyState===XMLHttpRequest.DONE){if(httpRequest.status===200){adobeMID=JSON.parse(httpRequest.response);if(Object.keys!="undefined"){ls=ls||new bactm.Store("adobeMID",{type:"cookie"});Object.keys(adobeMID).forEach(function(key){ls.set(key,adobeMID[key]);});}
ls.save("adobeMID");ba._log("Adobe MID API request: Success",LOG_LEVEL.INFO);fn();}else{ba._log("Adobe MID API request: Failed - "+httpRequest.status,LOG_LEVEL.ERROR);}}};httpRequest.open('GET',"https://dpm.demdex.net/id?d_orgid="+d_orgid+"&d_ver="+d_ver);httpRequest.send();};var _getFromLocalStorage=function(fn){ls=ls||new bactm.Store("adobeMID",{type:"cookie"});ls.save("adobeMID")
adobeMID=ls.all();fn();};var _adobeMIDSync=function(){adobeMIDLTS=bactm.Store("adobeMID",{type:"cookie"})
if(!pageId||currentUrl.indexOf('/homepage/overview.go')>-1||DISABLE_MID.indexOf(pageId)>-1)return;if(adobeMIDSession.get('adobeImgSync')==true)return;adobeMIDLTS.get('ibs').forEach(function(t){if(t.tag=="img"&&t.url!==null&&t.url!==[]){t.url.forEach(function(u){bactm.PixelTag(u);})}});adobeMIDSession.set('adobeImgSync',true);adobeMIDSession.save();};var _getCurrentPageId=function(){if(win.cG7&&win.cG7.cM0&&win.cm_ClientID)return win.cG7.cM0[cm_ClientID];return ba.ddo.pageInfo.get('pageID');}
var _init=function(){ba._log('adobemid plugin v'+version+' initializing.',LOG_LEVEL.INFO);adobeMIDLTS=bactm.Store("adobeMID",{type:"cookie"})
pageId=_getCurrentPageId();if(adobeMIDLTS.get("d_mid")===null||adobeMIDLTS.get("ibs")===null){_writeToLocalStorage(_adobeMIDSync);}else{_getFromLocalStorage(_adobeMIDSync);}
}
_init();return{get:_get};});}}catch(e){utag.DB(e)}},function(a,b,c,d,e,f,g){d=b['js_page.digitalData.page.pageInfo[0].pageID'];if(typeof d=='undefined')return;c=[{'OLB:Content:Accounts;Accounts_Overview':'true'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['disableChatIfNotActive']=c[e][f];m=true};};if(m)break};if(!m)b['disableChatIfNotActive']='false';},function(a,b,c,d,e,f,g){d=b['js_page.digitalData.page.pageInfo[0].pageID'];if(typeof d=='undefined')return;c=[{'OSP:Content:OLB;feature-gallery':'true'},{'Dep:Tool:ManageYourMoney;savings-goal-calculator':'true'},{'GenBanking:Content:FAQ;HelpOverview':'true'},{'GenBanking:Content:LifeEvents;overview':'true'},{'GenBanking:Content:LifeEvents;getting_married':'true'},{'GenBanking:Content:LifeEvents;having_a_child':'true'},{'GenBanking:Content:LifeEvents;dealing_with_divorce':'true'},{'GenBanking:Content:LifeEvents;changing_jobs':'true'},{'GenBanking:Content:LifeEvents;losing_a_loved_one':'true'},{'GenBanking:Content:LifeEvents;buying_or_selling_a_home':'true'},{'GenBanking:Content:LifeEvents;saving_for_college':'true'},{'GenBanking:Content:LifeEvents;working_in_retirement':'true'},{'GenBanking:Content:FAQ;SmBusRetirementSvcs':'true'},{'GenBanking:Content:FAQ;help-when-a-customer-passes-away':'true'},{'GenBanking:Content:FAQ;FactsAboutCorporation':'true'},{'GenBanking:Content:FAQ;SmBusLoansLinesLeasing':'true'},{'GenBanking:Content:FAQ;SmBusInvestments':'true'},{'GenBanking:Content:FAQ;SmBusDebitATMCards':'true'},{'GenBanking:Content:FAQ;MilitaryBanking':'true'},{'GenBanking:Content:FAQ;help-goodwill-adjustment':'true'},{'GenBanking:Content:FAQ;SmBusCheckingSavingsCDs':'true'},{'GenBanking:Content:NeedToUpdate':'true'},{'GenBanking:Content:FAQ;InvestServices':'true'},{'GenBanking:Content:FAQ;FinancialCenter':'true'},{'OLB:Mkt:Accounts;OpenanAccount':'true'},{'contact:Content:GlobalContact;MobileTextBanking':'true'},{'contact:Content:GlobalContact;ATMContactus':'true'},{'contact:Content:GlobalContact;SpecialBanking':'true'},{'contact:Content:GlobalContact;OLBBillPay':'true'},{'contact:Content:GlobalContact;CheckSave':'true'},{'contact:Content:GlobalContact;CDs_IRAs':'true'},{'contact:Content:GlobalContact;MHE':'true'},{'contact:Content:GlobalContact;SmallBusiness':'true'},{'contact:Content:GlobalContact;AutoLoans':'true'},{'contact:Content:GlobalContact;CreditCards':'true'},{'contact:Content:GlobalContact;About_BAC':'true'},{'contact:Content:GlobalContact;PrivacyandSecurity':'true'},{'contact:Content:GlobalContact;Insurance':'true'},{'OSP:Content:OLB:OLB_Education;how-to-be-smart-with-money':'true'},{'OSP:Content:OLB:OLB_Education;automatic-bill-pay':'true'},{'OSP:Content:OLB:OLB_Education;identity-theft-vs-credit-card-fraud':'true'},{'OSP:Content:OLB:OLB_Education;internet-safety-and-security-essentials':'true'},{'OSP:Content:OLB:OLB_Education;mobile-security-threats':'true'},{'OSP:Content:OLB:OLB_Education;how-secure-is-your-computer':'true'},{'OSP:Content:OLB;Online_Banking':'true'},{'OSP:Content:OLB;mobile-wallet':'true'},{'OSP:Content:OLB;Electronic_Funds_Transfer_FAQS':'true'},{'OSP:Content:OLB:OLB_Education;Online_Banking_Alerts':'true'},{'OSP:Content:OLB:OLB_Education;Money_Management_Tips':'true'},{'OSP:Content:OLB:OLB_Education;Mobile-Banking-Alerts':'true'},{'OSP:Content:OLB:OLB_Education;Checking_Account_Features':'true'},{'OSP:Content:OLB;Online_Banking_Security_Guarantee':'true'},{'OSP:Content:OLB:OLB_Education;smartphone-security-tips':'true'},{'OSP:Content:OLB:OLB_Education;online-bill-payment':'true'},{'OSP:Content:OLB:OLB_Education;Internet_Security_Tips':'true'},{'OSP:Content:OLB:OLB_Education;how-to-spend-money-wisely':'true'},{'OSP:Content:OLB;Online_Financial_Management_FAQS':'true'},{'smbus:Content:practice_loans:health_care;overview':'true'},{'smbus:Content:practice_loans:health_care;dentist-loans':'true'},{'smbus:Content:practice_loans:health_care;veterinary-loans':'true'},{'smbus:Content:practice_loans:health_care;medical-loans':'true'},{'smbus:Content:practice_loans:resources;overview':'true'},{'smbus:Content:practice_loans:resources;practice-heartbeat':'true'},{'OSP:Content:OLB;eBills_FAQS':'true'},{'OSP:Content:OLB;Online_Banking_Services_FAQS':'true'},{'OSP:Content:OLB:OLB_Education;Send-Money-with-Your_MobileApp':'true'},{'OSP:Content:OLB:OLB_Education;Mobile-Bill-Pay':'true'},{'OSP:Content:OLB:OLB_Education;how-to-send-money-online':'true'},{'OSP:Content:OLB:OLB_Education;consolidate-bank-accounts':'true'},{'OSP:Content:OLB;Online_Bill_Pay':'true'},{'OSP:Content:OLB:OLB_Education;ways-to-send-money':'true'},{'OSP:Content:OLB:OLB_Education;Mobile-Bank-Transfers':'true'},{'OSP:Content:OLB:OLB_Education;Mobile-Deposits':'true'},{'OSP:Content:OLB;Online_Banking_Security_FAQS':'true'},{'OSP:Content:OLB;Learning_Center':'true'},{'OSP:Content:OLB:OLB_Education;Features_of_Online_Banking':'true'},{'OSP:Content:OLB;apple-pay-faqs':'true'},{'OSP:Content:OLB;Account_Services_FAQS':'true'},{'OSP:Content:OLB;Online_Bank_Account':'true'},{'OSP:Content:OLB;Financial_Management_Tools':'true'},{'OSP:Content:OLB:OLB_Education;save-with-automatic-payments':'true'},{'OSP:Content:OLB:OLB_Education;how-to-transfer-money-between-bank-accounts':'true'},{'OSP:Content:OLB:OLB_Education;how-to-pay-bills-online':'true'},{'OSP:Content:OLB:OLB_Education;How_To_Overcome_Financial_Problems':'true'},{'OSP:Content:OLB:OLB_Education;how-does-your-cell-phone-usage-stack-up':'true'},{'OSP:Content:OLB:OLB_Education;the-evolution-of-banking':'true'},{'smbus:Tool:practice_loans;practice_loans_contact_us':'true'},{'smbus:Tool:practice_loans;practice_loans_contact_us_errors':'true'},{'smbus:Content:practice_loans:FAQ:FAQs':'true'},{'smbus:Content:practice_loans:resources;events-dentists':'true'},{'smbus:Content:practice_loans:resources;endorsements':'true'},{'Privacy:Content:Privacy;consumer-privacy-notice':'true'},{'Privacy:Content:FAQ;collecting-information-faq':'true'},{'Privacy:Content:FAQ;online-banking-faq':'true'},{'Privacy:Content:FAQ;online-privacy-faq':'true'},{'Privacy:Content:Accounts_Cards;checking-savings-security':'true'},{'Privacy:Content:FAQ;safepass-faq':'true'},{'Privacy:Content:Accounts_Cards;ATM-security':'true'},{'Privacy:Content:Problem_Resources;external-resources':'true'},{'Privacy:Content:FAQ;sharing-information-faq':'true'},{'Privacy:Content:Accounts_Cards;shopsafe':'true'},{'Privacy:Content:FAQ;privacy-choices-faq':'true'},{'Privacy:Content:FAQ;data-compromise-faq':'true'},{'Privacy:Content:Accounts_Cards;credit-debit-card-security':'true'},{'Privacy:Content:Online_Mobile_Security;mcafee-antivirus-free-trial':'true'},{'Privacy:Content:Online_Mobile_Security;trusteer-rapport':'true'},{'Privacy:Content:Online_Mobile_Security;safepass':'true'},{'Privacy:Content:Problem_Resources;report-suspicious-email':'true'},{'Privacy:Content:Problem_Resources;privacy-policy-glossary':'true'},{'Privacy:Content:Online_Mobile_Security;email-fraud':'true'},{'Privacy:Content:FAQ;emv-chip-card-faq':'true'},{'Privacy:Content:Privacy;affiliate-companies':'true'},{'Privacy:Content:FAQ;protecting-information-faq':'true'},{'Privacy:Content:Accounts_Cards;emv-chip-card-technology':'true'},{'Privacy:Content:Online_Mobile_Security;security-center':'true'},{'Privacy:Content:Online_Mobile_Security;online-banking-security':'true'},{'Privacy:Content:Problem_Resources;resolve-identity-theft':'true'},{'Privacy:Content:Overview;overview':'true'},{'Privacy:Content:Overview;privacy-overview':'true'},{'Privacy:Content:Privacy;online-privacy-notice':'true'},{'Privacy:Content:Problem_Resources;report-lost-stolen-credit-card':'true'},{'Privacy:Content:Problem_Resources;report-data-compromise':'true'},{'Privacy:Content:Online_Mobile_Security;mobile-banking-security':'true'},{'Privacy:Content:FAQ;trusteer-rapport-faq':'true'},{'OLB:Content:Accounts;Accounts_Overview':'true'},{'homepage:Content;home_personal':'noload'},{'homepage:Content:smbus;homepage_smbus':'noload'},{'OLB:Content:Accounts;Accounts_Overview_SB':'true'},{'OLB:Content:CustSvc;Profile_Settings':'true'},{'OLB:Content:Accounts;Accounts_Overview_OLBS':'true'},{'OLB:Mkt:Accounts;SpecialOffers':'true'}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['Load_LegacyOpinionLabs']=c[e][f];m=true};};if(m)break};if(!m)b['Load_LegacyOpinionLabs']='false';},function(a,b,c,d,e,f,g){d=b['js_page.digitalData.page.pageInfo[0].pageID'];if(typeof d=='undefined')return;c=[{'':''}];var m=false;for(e=0;e<c.length;e++){for(f in c[e]){if(d==f){b['Load_getCoremetricsIdPlugin']=c[e][f];m=true};};if(m)break};if(!m)b['Load_getCoremetricsIdPlugin']='false';}];utag.handler.cfg_extend=[{"alr":1,"bwq":0,"id":"1","blr":0,"end":0},{"alr":1,"bwq":0,"id":"19","blr":0,"end":0},{"alr":0,"bwq":0,"id":"17","blr":1,"end":0},{"alr":0,"bwq":0,"id":"9","blr":1,"end":0},{"alr":1,"bwq":0,"id":"12","blr":0,"end":0}];utag.loader.initcfg=function(){utag.loader.cfg={"1":{load:utag.cond[2],send:1,v:201707270109,wait:1,tid:20010},"2":{load:utag.cond[3],send:1,v:201704101725,wait:1,tid:20010},"3":{load:utag.cond[4],send:1,v:201707270109,wait:1,tid:20010},"5":{load:utag.cond[5],send:1,v:201707270109,wait:1,tid:15011},"6":{load:utag.cond[6],send:1,v:201707270109,wait:1,tid:15011},"7":{load:utag.cond[7],send:1,v:201801041859,wait:1,tid:20010},"8":{load:utag.cond[8],send:1,v:201711092031,wait:1,tid:20010},"9":{load:utag.cond[9],send:1,v:201707270109,wait:1,tid:20010}};utag.loader.cfgsort=["1","2","3","5","6","7","8","9"];}
utag.loader.initcfg();}
if(typeof utag_cfg_ovrd!='undefined'){for(var i in utag.loader.GV(utag_cfg_ovrd))utag.cfg[i]=utag_cfg_ovrd[i]};utag.loader.PINIT=function(a,b,c){utag.DB("Pre-INIT");if(utag.cfg.noload){return;}
try{this.GET();if(utag.handler.RE('view',utag.data,"blr")){utag.handler.LR(utag.data);}}catch(e){utag.DB(e)};a=this.cfg;c=0;for(b in this.GV(a)){if(a[b].block==1||(a[b].load>0&&(typeof a[b].src!='undefined'&&a[b].src!=''))){a[b].block=1;c=1;this.bq[b]=1;}}
if(c==1){for(b in this.GV(a)){if(a[b].block){a[b].id=b;if(a[b].load==4)a[b].load=1;a[b].cb=function(){var d=this.uid;utag.loader.cfg[d].cbf=1;utag.loader.LOAD(d)};this.AS(a[b]);}}}
if(c==0)this.INIT();};utag.loader.INIT=function(a,b,c,d,e){utag.DB('utag.loader.INIT');if(this.ol==1)return-1;else this.ol=1;if(utag.cfg.noview!=true)utag.handler.RE('view',utag.data,"alr");utag.rpt.ts['i']=new Date();d=this.cfgsort;for(a=0;a<d.length;a++){e=d[a];b=this.cfg[e];b.id=e;if(b.block!=1&&b.s2s!=1){if(utag.loader.bk[b.id]||((utag.cfg.readywait||utag.cfg.noview)&&b.load==4)){this.f[b.id]=0;utag.loader.LOAD(b.id)}else if(b.wait==1&&utag.loader.rf==0){utag.DB('utag.loader.INIT: waiting '+b.id);this.wq.push(b)
this.f[b.id]=2;}else if(b.load>0){utag.DB('utag.loader.INIT: loading '+b.id);this.lq.push(b);this.AS(b);}}}
if(this.wq.length>0)utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.DB('READY:utag.loader.wq');utag.loader.rf=1;utag.loader.WQ();}});else if(this.lq.length>0)utag.loader.rf=1;else if(this.lq.length==0)utag.loader.END();return 1};if(utag.cfg.readywait||utag.cfg.waittimer){utag.loader.EV('','ready',function(a){if(utag.loader.rf==0){utag.loader.rf=1;utag.cfg.readywait=1;utag.DB('READY:utag.cfg.readywait');setTimeout(function(){utag.loader.PINIT()},utag.cfg.waittimer||1);}})}else{utag.loader.PINIT()}}